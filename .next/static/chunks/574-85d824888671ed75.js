"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[574],{1324:(e,t,r)=>{r.d(t,{A:()=>p});var s=r(5155),i=r(2679),o=r(9606),n=r(4085),a=r(4035),l=r(2336),d=r(8173),c=r.n(d),m=r(6733),u=r(241),f=r(6046);let p=e=>{let{type:t,schema:r,defaultValues:d,onSubmit:p}=e,g=(0,f.useRouter)(),x="SIGN_IN"===t,v=(0,o.mN)({resolver:(0,i.u)(r),defaultValues:d}),h=async e=>{console.log("Form submitted with data:",e),console.log("Form is valid:",v.formState.isValid),console.log("Form errors:",v.formState.errors);try{let r=await p(e);if(console.log("Submit result:",r),r.success)(0,u.oR)({title:"Success",description:x?"You have successfully signed in.":"You have successfully signed up."}),g.push("/");else{var t;(0,u.oR)({title:"Error ".concat(x?"signing in":"signing up"),description:null!==(t=r.error)&&void 0!==t?t:"An error occurred.",variant:"destructive"})}}catch(e){console.error("Error in handleSubmit:",e),(0,u.oR)({title:"Error ".concat(x?"signing in":"signing up"),description:"An unexpected error occurred.",variant:"destructive"})}};return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-white",children:x?"Welcome back to New Creation":"Create your account"}),(0,s.jsx)("p",{className:"text-light-100",children:x?"Access the vast collection of resources, and stay updated":"Please complete all fields to create your account"}),(0,s.jsx)(a.lV,{...v,children:(0,s.jsxs)("form",{onSubmit:v.handleSubmit(h),className:"w-full space-y-6",children:[Object.keys(d).map(e=>(0,s.jsx)(a.zB,{control:v.control,name:e,render:t=>{let{field:r}=t;return(0,s.jsxs)(a.eI,{children:[(0,s.jsx)(a.lR,{className:"capitalize",children:m.Yr[e]}),(0,s.jsx)(a.MJ,{children:(0,s.jsx)(l.p,{required:!0,type:m.bh[e],...r,className:"form-input"})}),(0,s.jsx)(a.C5,{})]})}},e)),(0,s.jsx)(n.$,{type:"submit",className:"form-btn",disabled:v.formState.isSubmitting,children:v.formState.isSubmitting?x?"Signing In...":"Signing Up...":x?"Sign In":"Sign Up"})]})}),(0,s.jsxs)("p",{className:"text-center text-base font-medium",children:[x?"New to BookWise? ":"Already have an account? ",(0,s.jsx)(c(),{href:x?"/sign-up":"/sign-in",className:"font-bold text-primary",children:x?"Create an account":"Sign in"})]})]})}},4085:(e,t,r)=>{r.d(t,{$:()=>d});var s=r(5155),i=r(2115),o=r(2317),n=r(1027),a=r(9602);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:r,variant:i,size:n,asChild:d=!1,...c}=e,m=d?o.DX:"button";return(0,s.jsx)(m,{className:(0,a.cn)(l({variant:i,size:n,className:r})),ref:t,...c})});d.displayName="Button"},4035:(e,t,r)=>{r.d(t,{lV:()=>m,MJ:()=>h,zB:()=>f,eI:()=>x,lR:()=>v,C5:()=>b});var s=r(5155),i=r(2115),o=r(2317),n=r(9606),a=r(9602),l=r(6195);let d=(0,r(1027).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,a.cn)(d(),r),...i})});c.displayName=l.b.displayName;let m=n.Op,u=i.createContext({}),f=e=>{let{...t}=e;return(0,s.jsx)(u.Provider,{value:{name:t.name},children:(0,s.jsx)(n.xI,{...t})})},p=()=>{let e=i.useContext(u),t=i.useContext(g),{getFieldState:r,formState:s}=(0,n.xW)(),o=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:a}=t;return{id:a,name:e.name,formItemId:"".concat(a,"-form-item"),formDescriptionId:"".concat(a,"-form-item-description"),formMessageId:"".concat(a,"-form-item-message"),...o}},g=i.createContext({}),x=i.forwardRef((e,t)=>{let{className:r,...o}=e,n=i.useId();return(0,s.jsx)(g.Provider,{value:{id:n},children:(0,s.jsx)("div",{ref:t,className:(0,a.cn)("space-y-2",r),...o})})});x.displayName="FormItem";let v=i.forwardRef((e,t)=>{let{className:r,...i}=e,{error:o,formItemId:n}=p();return(0,s.jsx)(c,{ref:t,className:(0,a.cn)(o&&"text-destructive",r),htmlFor:n,...i})});v.displayName="FormLabel";let h=i.forwardRef((e,t)=>{let{...r}=e,{error:i,formItemId:n,formDescriptionId:a,formMessageId:l}=p();return(0,s.jsx)(o.DX,{ref:t,id:n,"aria-describedby":i?"".concat(a," ").concat(l):"".concat(a),"aria-invalid":!!i,...r})});h.displayName="FormControl",i.forwardRef((e,t)=>{let{className:r,...i}=e,{formDescriptionId:o}=p();return(0,s.jsx)("p",{ref:t,id:o,className:(0,a.cn)("text-[0.8rem] text-muted-foreground",r),...i})}).displayName="FormDescription";let b=i.forwardRef((e,t)=>{var r;let{className:i,children:o,...n}=e,{error:l,formMessageId:d}=p(),c=l?String(null!==(r=null==l?void 0:l.message)&&void 0!==r?r:""):o;return c?(0,s.jsx)("p",{ref:t,id:d,className:(0,a.cn)("text-[0.8rem] font-medium text-destructive",i),...n,children:c}):null});b.displayName="FormMessage"},2336:(e,t,r)=>{r.d(t,{p:()=>n});var s=r(5155),i=r(2115),o=r(9602);let n=i.forwardRef((e,t)=>{let{className:r,type:i,...n}=e;return(0,s.jsx)("input",{type:i,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},6733:(e,t,r)=>{r.d(t,{Bi:()=>s,Yr:()=>i,bh:()=>o});let s=[{img:"/icons/admin/home.svg",route:"/admin",text:"Home"},{img:"/icons/admin/users.svg",route:"/admin/users",text:"All Users"},{img:"/icons/admin/book.svg",route:"/admin/books",text:"All Books"},{img:"/icons/admin/bookmark.svg",route:"/admin/book-requests",text:"Borrow Requests"},{img:"/icons/admin/user.svg",route:"/admin/account-requests",text:"Account Requests"}],i={fullName:"Full name",email:"Email",password:"Password"},o={fullName:"text",email:"email",password:"password"}},241:(e,t,r)=>{r.d(t,{dj:()=>u,oR:()=>m});var s=r(2115);let i=0,o=new Map,n=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},a=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=a(d,e),l.forEach(e=>{e(d)})}function m(e){let{...t}=e,r=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=s.useState(d);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9602:(e,t,r)=>{r.d(t,{I:()=>n,cn:()=>o});var s=r(3463),i=r(9795);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,s.$)(t))}let n=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)},319:(e,t,r)=>{r.d(t,{Sd:()=>i,aE:()=>o,xd:()=>n});var s=r(842);let i=s.z.object({fullName:s.z.string().min(3),email:s.z.string().email(),password:s.z.string().min(8)}),o=s.z.object({email:s.z.string().email(),password:s.z.string().min(8)}),n=s.z.object({title:s.z.string().trim().min(2).max(100),description:s.z.string().trim().min(10).max(1e3),author:s.z.string().trim().min(2).max(100),genre:s.z.string().trim().min(2).max(50),rating:s.z.coerce.number().min(1).max(5),totalCopies:s.z.coerce.number().int().positive().lte(1e4),coverUrl:s.z.string().nonempty(),coverColor:s.z.string().trim().regex(/^#[0-9A-F]{6}$/i),videoUrl:s.z.string().nonempty(),summary:s.z.string().trim().min(10)})}}]);