exports.id=85,exports.ids=[85],exports.modules={99283:(e,t,o)=>{Promise.resolve().then(o.bind(o,25316)),Promise.resolve().then(o.t.bind(o,59607,23)),Promise.resolve().then(o.t.bind(o,71066,23))},93707:(e,t,o)=>{Promise.resolve().then(o.bind(o,418)),Promise.resolve().then(o.t.bind(o,28531,23)),Promise.resolve().then(o.t.bind(o,41902,23))},16840:(e,t,o)=>{Promise.resolve().then(o.bind(o,11563)),Promise.resolve().then(o.bind(o,22994)),Promise.resolve().then(o.t.bind(o,59607,23)),Promise.resolve().then(o.t.bind(o,71066,23))},3688:(e,t,o)=>{Promise.resolve().then(o.bind(o,9668)),Promise.resolve().then(o.bind(o,81846)),Promise.resolve().then(o.t.bind(o,28531,23)),Promise.resolve().then(o.t.bind(o,41902,23))},418:(e,t,o)=>{"use strict";o.d(t,{default:()=>n});var a=o(45512);o(58009);var s=o(59462);let r=({coverColor:e})=>(0,a.jsxs)("svg",{preserveAspectRatio:"none",fill:"none",width:"100%",height:"100%",viewBox:"0 0 143 199",xmlns:"http://www.w3.org/2000/svg",className:"absolute inset-0",children:[(0,a.jsx)("path",{d:"M141.851 196.481H140.652V174.61C141.39 173.885 141.851 172.876 141.851 171.763V4.26316C141.851 2.07107 140.068 0.277516 137.889 0.277516H16.7824C16.7824 0.277516 3.06348 -0.381156 0 11.5424V183.921C0 199.797 9.59001 198.993 9.59001 198.993H141.851C142.497 198.886 142.991 198.655 143 197.938C143.018 196.582 141.851 196.481 141.851 196.481Z",fill:"#CAD7DB"}),(0,a.jsx)("path",{d:"M141.851 196.481H140.652V194.036H4.79924C2.20563 190.492 2.50324 184.366 2.50324 184.366C2.76966 174.251 16.7824 175.749 16.7824 175.749H137.888C138.961 175.749 139.937 175.313 140.652 174.61C141.39 173.885 141.851 172.876 141.851 171.763V4.26316C141.851 2.07107 140.068 0.277516 137.888 0.277516H16.7824C16.7824 0.277516 3.06348 -0.381156 0 11.5424V183.921C0 199.797 9.59001 198.993 9.59001 198.993H141.851C142.497 198.886 142.991 198.655 143 197.938C143.018 196.582 141.851 196.481 141.851 196.481Z",fill:e}),(0,a.jsx)("path",{d:"M16.7824 173.873V0.277516C16.7824 0.277516 3.06348 -0.381156 0 11.5424V183.921C0 183.921 1.70019e-06 173.27 16.7824 173.873Z",fill:e}),(0,a.jsx)("path",{d:"M118.676 34.8091H33.5649V72.9915H118.676V34.8091Z",fill:e}),(0,a.jsx)("path",{d:"M6.3468 19.8239C8.70341 18.7114 11.202 18.121 13.1615 17.8225C15.1211 17.5225 16.5391 17.5098 16.7401 17.51H16.7607H16.761L16.7689 17.5102H16.7823V14.0939L16.7402 14.0938C16.1538 14.0991 11.6323 14.136 6.74782 15.955C4.44814 16.8161 2.05989 18.0912 0 19.9928V25.3396C0.569709 24.3755 1.24048 23.5291 1.99482 22.7842C3.26784 21.5331 4.77417 20.5647 6.3468 19.8239Z",fill:"white"}),(0,a.jsx)("path",{d:"M7.17491 29.1211C9.53787 27.7332 11.9814 26.9986 13.8218 26.6228C14.7415 26.4345 15.5093 26.3349 16.0373 26.283C16.3014 26.257 16.5054 26.243 16.6387 26.2354C16.7046 26.2317 16.7524 26.2298 16.7823 26.2286V22.8115H16.7666L16.7495 22.8119C16.6123 22.8205 12.2181 22.8977 7.31586 25.1949C4.86821 26.3461 2.28842 28.0692 0.124461 30.6432C0.0818969 30.6937 0.0422296 30.75 0 30.8013V37.431C0.727262 35.6175 1.6601 34.1105 2.71796 32.849C4.05638 31.2571 5.59793 30.0464 7.17491 29.1211Z",fill:"white"}),(0,a.jsx)("path",{d:"M6.34702 153.638C8.70375 152.525 11.2022 151.935 13.1617 151.636C15.1213 151.336 16.5393 151.324 16.7403 151.324H16.7587H16.7588L16.7667 151.324H16.7823V147.908L16.7402 147.908C16.1538 147.913 11.6324 147.95 6.74782 149.769C4.44826 150.63 2.06 151.905 0 153.807V159.154C0.569709 158.189 1.2407 157.343 1.99504 156.598C3.26806 155.347 4.77439 154.379 6.34702 153.638Z",fill:"white"}),(0,a.jsx)("path",{d:"M7.17491 162.935C9.53787 161.547 11.9814 160.813 13.8218 160.437C14.7415 160.249 15.5093 160.149 16.0373 160.097C16.3014 160.071 16.5054 160.057 16.6387 160.05C16.7046 160.046 16.7524 160.044 16.7823 160.043V156.625H16.7666L16.7495 156.626C16.6123 156.634 12.2181 156.712 7.31586 159.009C4.86821 160.16 2.28842 161.883 0.124461 164.457C0.0818969 164.508 0.0422296 164.564 0 164.615V171.245C0.727262 169.432 1.6601 167.925 2.71796 166.663C4.05638 165.071 5.59793 163.86 7.17491 162.935Z",fill:"white"}),(0,a.jsx)("path",{d:"M141.851 196.481H9.19034C7.1895 196.361 5.78601 195.384 4.79924 194.036C2.20563 190.492 2.50324 184.366 2.50324 184.366C2.76966 174.251 16.7824 175.749 16.7824 175.749H137.888C138.961 175.749 139.937 175.312 140.652 174.61C141.39 173.885 141.851 172.876 141.851 171.763V169.887C141.851 172.079 140.068 173.873 137.888 173.873H16.7824C1.70019e-06 173.27 0 183.921 0 183.921C0 199.797 9.59001 198.993 9.59001 198.993H141.851C142.497 198.885 142.991 198.654 143 197.938C143.018 196.581 141.851 196.481 141.851 196.481Z",fill:"#03030B"}),(0,a.jsx)("path",{d:"M13.9253 184.443C23.7659 181.368 34.4608 180.461 44.7071 180.008C55.8062 179.517 66.919 179.88 78.0178 180.19C89.0344 180.499 99.9894 180.437 111.004 180.14C116.509 179.992 122.108 179.803 127.587 180.459C131.917 180.977 136.279 181.915 140.652 181.968V174.61C139.937 175.313 138.961 175.749 137.888 175.749H16.7822C16.7822 175.749 2.76943 174.252 2.50302 184.367C2.50302 184.367 2.38736 186.75 2.92955 189.403C6.35961 187.354 10.0113 185.666 13.9253 184.443Z",fill:"#AAB8BC"})]}),i={extraSmall:"book-cover_extra_small",small:"book-cover_small",medium:"book-cover_medium",regular:"book-cover_regular",wide:"book-cover_wide"},n=({className:e,variant:t="regular",coverColor:o="#012B48",coverImage:n="https://placehold.co/400x600.png"})=>(0,a.jsxs)("div",{className:(0,s.cn)("relative transition-all duration-300",i[t],e),children:[(0,a.jsx)(r,{coverColor:o}),(0,a.jsx)("div",{className:"absolute z-10",style:{left:"12%",width:"87.5%",height:"88%"}})]})},9668:(e,t,o)=>{"use strict";o.d(t,{default:()=>i});var a=o(45512),s=o(45103),r=o(98805);let i=()=>{let e=async()=>{await (0,r.CI)({callbackUrl:"/sign-in"})};return(0,a.jsxs)("button",{onClick:e,className:"flex items-center gap-2 text-light-100 hover:text-white transition-colors",children:[(0,a.jsx)(s.default,{src:"/icons/logout.svg",alt:"logout",width:20,height:20}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})}},99616:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>f});var a=o(62740),s=o(59607),r=o.n(s),i=o(35635),n=o(22994),l=o(11563);let d=({session:e})=>(console.log("Header session:",e),console.log("Session user:",e?.user),(0,a.jsxs)("header",{className:"my-10 flex justify-between gap-5",children:[(0,a.jsx)(r(),{href:"/",children:(0,a.jsx)(i.default,{src:"/icons/logo.svg",alt:"logo",width:40,height:40})}),(0,a.jsx)("ul",{className:"flex flex-row items-center gap-8",children:e?.user?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("li",{children:(0,a.jsxs)(r(),{href:"/my-profile",className:"flex items-center gap-2 text-primary hover:text-primary/80",children:[(0,a.jsxs)(n.Avatar,{className:"h-8 w-8",children:[(0,a.jsx)(n.AvatarImage,{src:"",alt:e.user.name||"User"}),(0,a.jsx)(n.AvatarFallback,{className:"bg-primary text-dark-100 text-sm font-semibold",children:e.user.name?e.user.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U"})]}),(0,a.jsx)("span",{className:"hidden sm:inline",children:e.user.name})]})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{})})]}):(0,a.jsx)("li",{children:(0,a.jsx)(r(),{href:"/sign-in",className:"text-primary hover:text-primary/80",children:"Sign In"})})})]}));var c=o(67905),m=o(31831),h=o(39187),p=o(17611),u=o(16726),v=o(47579);let f=async({children:e})=>{let t=await (0,c.j2)();return console.log("Root layout session:",t),console.log("Session user:",t?.user),t||(0,m.redirect)("/sign-in"),(0,h.after)(async()=>{t?.user?.id&&(await p.db.select().from(u.VV).where((0,v.eq)(u.VV.id,t?.user?.id)).limit(1))[0].lastActivityDate!==new Date().toISOString().slice(0,10)&&await p.db.update(u.VV).set({lastActivityDate:new Date().toISOString().slice(0,10)}).where((0,v.eq)(u.VV.id,t?.user?.id))}),(0,a.jsx)("main",{className:"root-container",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,a.jsx)(d,{session:t}),(0,a.jsx)("div",{className:"mt-20 pb-20",children:e})]})})}},25316:(e,t,o)=>{"use strict";o.d(t,{default:()=>a});let a=(0,o(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Desktop\\\\WORK\\\\new_creation\\\\components\\\\BookCover.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\BookCover.tsx","default")},42970:(e,t,o)=>{"use strict";o.d(t,{A:()=>m});var a=o(62740);o(76301);var s=o(59607),r=o.n(s),i=o(25316),n=o(55946),l=o(35635),d=o(38537);let c=({id:e,title:t,genre:o,coverColor:s,coverUrl:c,isLoanedBook:m=!1})=>(0,a.jsx)("li",{className:(0,n.cn)(m&&"xs:w-52 w-full"),children:(0,a.jsxs)(r(),{href:`/books/${e}`,className:(0,n.cn)(m&&"w-full flex flex-col items-center"),children:[(0,a.jsx)(i.default,{coverColor:s,coverImage:c}),(0,a.jsxs)("div",{className:(0,n.cn)("mt-4",!m&&"xs:max-w-40 max-w-28"),children:[(0,a.jsx)("p",{className:"book-title",children:t}),(0,a.jsx)("p",{className:"book-genre",children:o})]}),m&&(0,a.jsxs)("div",{className:"mt-3 w-full",children:[(0,a.jsxs)("div",{className:"book-loaned",children:[(0,a.jsx)(l.default,{src:"/icons/calendar.svg",alt:"calendar",width:18,height:18,className:"object-contain"}),(0,a.jsx)("p",{className:"text-light-100",children:"11 days left to return"})]}),(0,a.jsx)(d.$,{className:"book-btn",children:"Download receipt"})]})]})}),m=({title:e,books:t,containerClassName:o})=>{if(!(t.length<2))return(0,a.jsxs)("section",{className:o,children:[(0,a.jsx)("h2",{className:"font-bebas-neue text-4xl text-light-100",children:e}),(0,a.jsx)("ul",{className:"book-list",children:t.map(e=>(0,a.jsx)(c,{...e},e.title))})]})}},11563:(e,t,o)=>{"use strict";o.d(t,{default:()=>a});let a=(0,o(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Desktop\\\\WORK\\\\new_creation\\\\components\\\\LogoutButton.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\LogoutButton.tsx","default")},22994:(e,t,o)=>{"use strict";o.d(t,{Avatar:()=>s,AvatarFallback:()=>i,AvatarImage:()=>r});var a=o(46760);let s=(0,a.registerClientReference)(function(){throw Error("Attempted to call Avatar() from the server but Avatar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\ui\\avatar.tsx","Avatar"),r=(0,a.registerClientReference)(function(){throw Error("Attempted to call AvatarImage() from the server but AvatarImage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\ui\\avatar.tsx","AvatarImage"),i=(0,a.registerClientReference)(function(){throw Error("Attempted to call AvatarFallback() from the server but AvatarFallback is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\ui\\avatar.tsx","AvatarFallback")},38537:(e,t,o)=>{"use strict";o.d(t,{$:()=>d});var a=o(62740),s=o(76301),r=o(15225),i=o(67699),n=o(55946);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef(({className:e,variant:t,size:o,asChild:s=!1,...i},d)=>{let c=s?r.DX:"button";return(0,a.jsx)(c,{className:(0,n.cn)(l({variant:t,size:o,className:e})),ref:d,...i})});d.displayName="Button"},37881:(e,t,o)=>{"use strict";o.d(t,{TY:()=>a});let a=[{id:"1",title:"The Midnight Library",author:"Matt Haig",genre:"Fantasy / Fiction",rating:4.6,totalCopies:20,availableCopies:10,description:"A dazzling novel about all the choices that go into a life well lived, The Midnight Library tells the story of Nora Seed as she finds herself between life and death.",coverColor:"#1c1f40",coverUrl:"https://m.media-amazon.com/images/I/81J6APjwxlL.jpg",videoUrl:"/sample-video.mp4?updatedAt=1722593504152",summary:"A dazzling novel about all the choices that go into a life well lived, The Midnight Library tells the story of Nora Seed as she finds herself between life and death. A dazzling novel about all the choices that go into a life well lived, The Midnight Library tells the story of Nora Seed as she finds herself between life and death.",createdAt:new Date},{id:"2",title:"Atomic Habits",author:"James Clear",genre:"Self-Help / Productivity",rating:4.9,totalCopies:99,availableCopies:50,description:"A revolutionary guide to making good habits, breaking bad ones, and getting 1% better every day.",coverColor:"#fffdf6",coverUrl:"https://m.media-amazon.com/images/I/81F90H7hnML.jpg",videoUrl:"/sample-video.mp4?updatedAt=1722593504152",summary:"A revolutionary guide to making good habits, breaking bad ones, and getting 1% better every day.",createdAt:new Date},{id:"3",title:"You Don't Know JS: Scope & Closures",author:"Kyle Simpson",genre:"Computer Science / JavaScript",rating:4.7,totalCopies:9,availableCopies:5,description:"An essential guide to understanding the core mechanisms of JavaScript, focusing on scope and closures.",coverColor:"#f8e036",coverUrl:"https://m.media-amazon.com/images/I/7186YfjgHHL._AC_UF1000,1000_QL80_.jpg",videoUrl:"/sample-video.mp4?updatedAt=1722593504152",summary:"An essential guide to understanding the core mechanisms of JavaScript, focusing on scope and closures.",createdAt:new Date},{id:"4",title:"The Alchemist",author:"Paulo Coelho",genre:"Philosophy / Adventure",rating:4.5,totalCopies:78,availableCopies:50,description:"A magical tale of Santiago, an Andalusian shepherd boy, who embarks on a journey to find a worldly treasure.",coverColor:"#ed6322",coverUrl:"https://m.media-amazon.com/images/I/61HAE8zahLL._AC_UF1000,1000_QL80_.jpg",videoUrl:"/sample-video.mp4?updatedAt=1722593504152",summary:"A magical tale of Santiago, an Andalusian shepherd boy, who embarks on a journey to find a worldly treasure.",createdAt:new Date},{id:"5",title:"Deep Work",author:"Cal Newport",genre:"Self-Help / Productivity",rating:4.7,totalCopies:23,availableCopies:23,description:"Rules for focused success in a distracted world, teaching how to cultivate deep focus to achieve peak productivity.",coverColor:"#ffffff",coverUrl:"https://m.media-amazon.com/images/I/81JJ7fyyKyS.jpg",videoUrl:"/sample-video.mp4?updatedAt=1722593504152",summary:"Rules for focused success in a distracted world, teaching how to cultivate deep focus to achieve peak productivity.",createdAt:new Date},{id:"6",title:"Clean Code",author:"Robert C. Martin",genre:"Computer Science / Programming",rating:4.8,totalCopies:56,availableCopies:56,description:"A handbook of agile software craftsmanship, offering best practices and principles for writing clean and maintainable code.",coverColor:"#080c0d",coverUrl:"https://m.media-amazon.com/images/I/71T7aD3EOTL._UF1000,1000_QL80_.jpg",videoUrl:"/sample-video.mp4?updatedAt=1722593504152",summary:"A handbook of agile software craftsmanship, offering best practices and principles for writing clean and maintainable code.",createdAt:new Date},{id:"7",title:"The Pragmatic Programmer",author:"Andrew Hunt, David Thomas",genre:"Computer Science / Programming",rating:4.8,totalCopies:25,availableCopies:3,description:"A timeless guide for developers to hone their skills and improve their programming practices.",coverColor:"#100f15",coverUrl:"https://m.media-amazon.com/images/I/71VStSjZmpL._AC_UF1000,1000_QL80_.jpg",videoUrl:"/sample-video.mp4?updatedAt=1722593504152",summary:"A timeless guide for developers to hone their skills and improve their programming practices.",createdAt:new Date},{id:"8",title:"The Psychology of Money",author:"Morgan Housel",genre:"Finance / Self-Help",rating:4.8,totalCopies:10,availableCopies:5,description:"Morgan Housel explores the unique behaviors and mindsets that shape financial success and decision-making.",coverColor:"#ffffff",coverUrl:"https://m.media-amazon.com/images/I/81Dky+tD+pL._AC_UF1000,1000_QL80_.jpg",videoUrl:"/sample-video.mp4?updatedAt=1722593504152",summary:"Morgan Housel explores the unique behaviors and mindsets that shape financial success and decision-making.",createdAt:new Date}]},55946:(e,t,o)=>{"use strict";o.d(t,{cn:()=>r});var a=o(13673),s=o(47317);function r(...e){return(0,s.QP)((0,a.$)(e))}}};