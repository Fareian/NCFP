exports.id=385,exports.ids=[385],exports.modules={48778:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"7f80f5bd68b67bd8741dca28fbe402607105818d7d":()=>E,"7fd5117c1c25837c7284303d44d89d4b1c027b7553":()=>y});var s=r(21590);r(70376);var i=r(33668),o=r(88340),a=r(83843),n=r(8805),l=r(96522),d=r(4497);let{handlers:u,signIn:c,signOut:m,auth:p}=(0,l.Ay)({session:{strategy:"jwt"},providers:[(0,d.A)({async authorize(e){if(!e?.email||!e?.password)return null;let t=await o.db.select().from(a.VV).where((0,i.eq)(a.VV.email,e.email.toString())).limit(1);return 0===t.length?null:"APPROVED"!==t[0].status?(console.log("User status is not APPROVED:",t[0].status),null):await (0,n.compare)(e.password.toString(),t[0].password)?{id:t[0].id.toString(),email:t[0].email,name:t[0].fullName}:null}})],pages:{signIn:"/sign-in"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id,e.name=t.name),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.id,e.user.name=t.name),e)}});var f=r(42385),v=r(93563),g=r(75586),h=r(94010);let b=new g.Q({url:h.A.env.upstash.redisUrl,token:h.A.env.upstash.redisToken}),x=new v.Ratelimit({redis:b,limiter:v.Ratelimit.fixedWindow(5,"1m"),analytics:!0,prefix:"@upstash/ratelimit"});var N=r(99184),w=r(99344);let y=async e=>{let{email:t,password:r}=e,s=(await (0,f.b3)()).get("x-forwarded-for")||"127.0.0.1",{success:i}=await x.limit(s);if(!i)return(0,N.redirect)("/too-fast");try{let e=await c("credentials",{email:t,password:r,redirect:!1});if(e?.error)return{success:!1,error:e.error};return{success:!0}}catch(e){return console.log(e,"Signin error"),{success:!1,error:"Signin error"}}},E=async e=>{let{fullName:t,email:r,password:s}=e,l=(await (0,f.b3)()).get("x-forwarded-for")||"127.0.0.1",{success:d}=await x.limit(l);if(!d)return(0,N.redirect)("/too-fast");if((await o.db.select().from(a.VV).where((0,i.eq)(a.VV.email,r)).limit(1)).length>0)return{success:!1,error:"User already exists"};let u=await (0,n.hash)(s,10);try{return await o.db.insert(a.VV).values({fullName:t,email:r,password:u}),await y({email:r,password:s}),{success:!0}}catch(e){return console.log(e,"Signup error"),{success:!1,error:"Signup error"}}};(0,w.D)([y,E]),(0,s.A)(y,"7fd5117c1c25837c7284303d44d89d4b1c027b7553",null),(0,s.A)(E,"7f80f5bd68b67bd8741dca28fbe402607105818d7d",null)},57150:(e,t,r)=>{Promise.resolve().then(r.bind(r,70677)),Promise.resolve().then(r.bind(r,70452))},97318:(e,t,r)=>{Promise.resolve().then(r.bind(r,27071)),Promise.resolve().then(r.bind(r,98805))},9792:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,40802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,88921,23))},96640:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,57174,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,61365,23))},55348:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,71066,23))},91732:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,41902,23))},16762:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var s=r(45512),i=r(81914),o=r(6868),a=r(87021),n=r(61366),l=r(25409),d=r(28531),u=r.n(d),c=r(48173),m=r(70801),p=r(79334);let f=({type:e,schema:t,defaultValues:r,onSubmit:d})=>{let f=(0,p.useRouter)(),v="SIGN_IN"===e,g=(0,o.mN)({resolver:(0,i.u)(t),defaultValues:r}),h=async e=>{console.log("Form submitted with data:",e),console.log("Form is valid:",g.formState.isValid),console.log("Form errors:",g.formState.errors);try{let t=await d(e);console.log("Submit result:",t),t.success?((0,m.oR)({title:"Success",description:v?"You have successfully signed in.":"You have successfully signed up."}),f.push("/")):(0,m.oR)({title:`Error ${v?"signing in":"signing up"}`,description:t.error??"An error occurred.",variant:"destructive"})}catch(e){console.error("Error in handleSubmit:",e),(0,m.oR)({title:`Error ${v?"signing in":"signing up"}`,description:"An unexpected error occurred.",variant:"destructive"})}};return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-white",children:v?"Welcome back to New Creation":"Create your account"}),(0,s.jsx)("p",{className:"text-light-100",children:v?"Access the vast collection of resources, and stay updated":"Please complete all fields to create your account"}),(0,s.jsx)(n.lV,{...g,children:(0,s.jsxs)("form",{onSubmit:g.handleSubmit(h),className:"w-full space-y-6",children:[Object.keys(r).map(e=>(0,s.jsx)(n.zB,{control:g.control,name:e,render:({field:t})=>(0,s.jsxs)(n.eI,{children:[(0,s.jsx)(n.lR,{className:"capitalize",children:c.Yr[e]}),(0,s.jsx)(n.MJ,{children:(0,s.jsx)(l.p,{required:!0,type:c.bh[e],...t,className:"form-input"})}),(0,s.jsx)(n.C5,{})]})},e)),(0,s.jsx)(a.$,{type:"submit",className:"form-btn",disabled:g.formState.isSubmitting,children:g.formState.isSubmitting?v?"Signing In...":"Signing Up...":v?"Sign In":"Sign Up"})]})}),(0,s.jsxs)("p",{className:"text-center text-base font-medium",children:[v?"New to BookWise? ":"Already have an account? ",(0,s.jsx)(u(),{href:v?"/sign-up":"/sign-in",className:"font-bold text-primary",children:v?"Create an account":"Sign in"})]})]})}},87021:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(45512),i=r(58009),o=r(12705),a=r(21643),n=r(59462);let l=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...a},d)=>{let u=i?o.DX:"button";return(0,s.jsx)(u,{className:(0,n.cn)(l({variant:t,size:r,className:e})),ref:d,...a})});d.displayName="Button"},61366:(e,t,r)=>{"use strict";r.d(t,{lV:()=>c,MJ:()=>b,zB:()=>p,eI:()=>g,lR:()=>h,C5:()=>x});var s=r(45512),i=r(58009),o=r(12705),a=r(6868),n=r(59462),l=r(92405);let d=(0,r(21643).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)(l.b,{ref:r,className:(0,n.cn)(d(),e),...t}));u.displayName=l.b.displayName;let c=a.Op,m=i.createContext({}),p=({...e})=>(0,s.jsx)(m.Provider,{value:{name:e.name},children:(0,s.jsx)(a.xI,{...e})}),f=()=>{let e=i.useContext(m),t=i.useContext(v),{getFieldState:r,formState:s}=(0,a.xW)(),o=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...o}},v=i.createContext({}),g=i.forwardRef(({className:e,...t},r)=>{let o=i.useId();return(0,s.jsx)(v.Provider,{value:{id:o},children:(0,s.jsx)("div",{ref:r,className:(0,n.cn)("space-y-2",e),...t})})});g.displayName="FormItem";let h=i.forwardRef(({className:e,...t},r)=>{let{error:i,formItemId:o}=f();return(0,s.jsx)(u,{ref:r,className:(0,n.cn)(i&&"text-destructive",e),htmlFor:o,...t})});h.displayName="FormLabel";let b=i.forwardRef(({...e},t)=>{let{error:r,formItemId:i,formDescriptionId:a,formMessageId:n}=f();return(0,s.jsx)(o.DX,{ref:t,id:i,"aria-describedby":r?`${a} ${n}`:`${a}`,"aria-invalid":!!r,...e})});b.displayName="FormControl",i.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:i}=f();return(0,s.jsx)("p",{ref:r,id:i,className:(0,n.cn)("text-[0.8rem] text-muted-foreground",e),...t})}).displayName="FormDescription";let x=i.forwardRef(({className:e,children:t,...r},i)=>{let{error:o,formMessageId:a}=f(),l=o?String(o?.message??""):t;return l?(0,s.jsx)("p",{ref:i,id:a,className:(0,n.cn)("text-[0.8rem] font-medium text-destructive",e),...r,children:l}):null});x.displayName="FormMessage"},25409:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var s=r(45512),i=r(58009),o=r(59462);let a=i.forwardRef(({className:e,type:t,...r},i)=>(0,s.jsx)("input",{type:t,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));a.displayName="Input"},27071:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>h});var s=r(45512),i=r(70801),o=r(58009),a=r(64093),n=r(21643),l=r(65335),d=r(59462);let u=a.Kq,c=o.forwardRef(({className:e,...t},r)=>(0,s.jsx)(a.LM,{ref:r,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));c.displayName=a.LM.displayName;let m=(0,n.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),p=o.forwardRef(({className:e,variant:t,...r},i)=>(0,s.jsx)(a.bL,{ref:i,className:(0,d.cn)(m({variant:t}),e),...r}));p.displayName=a.bL.displayName,o.forwardRef(({className:e,...t},r)=>(0,s.jsx)(a.rc,{ref:r,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=a.rc.displayName;let f=o.forwardRef(({className:e,...t},r)=>(0,s.jsx)(a.bm,{ref:r,className:(0,d.cn)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})}));f.displayName=a.bm.displayName;let v=o.forwardRef(({className:e,...t},r)=>(0,s.jsx)(a.hE,{ref:r,className:(0,d.cn)("text-sm font-semibold [&+div]:text-xs",e),...t}));v.displayName=a.hE.displayName;let g=o.forwardRef(({className:e,...t},r)=>(0,s.jsx)(a.VY,{ref:r,className:(0,d.cn)("text-sm opacity-90",e),...t}));function h(){let{toasts:e}=(0,i.dj)();return(0,s.jsxs)(u,{children:[e.map(function({id:e,title:t,description:r,action:i,...o}){return(0,s.jsxs)(p,{...o,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[t&&(0,s.jsx)(v,{children:t}),r&&(0,s.jsx)(g,{children:r})]}),i,(0,s.jsx)(f,{})]},e)}),(0,s.jsx)(c,{})]})}g.displayName=a.VY.displayName},48173:(e,t,r)=>{"use strict";r.d(t,{Bi:()=>s,Yr:()=>i,bh:()=>o});let s=[{img:"/icons/admin/home.svg",route:"/admin",text:"Home"},{img:"/icons/admin/users.svg",route:"/admin/users",text:"All Users"},{img:"/icons/admin/book.svg",route:"/admin/books",text:"All Books"},{img:"/icons/admin/bookmark.svg",route:"/admin/book-requests",text:"Borrow Requests"},{img:"/icons/admin/user.svg",route:"/admin/account-requests",text:"Account Requests"}],i={fullName:"Full name",email:"Email",password:"Password"},o={fullName:"text",email:"email",password:"password"}},70801:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m,oR:()=>c});var s=r(58009);let i=0,o=new Map,a=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?a(r):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function u(e){d=n(d,e),l.forEach(e=>{e(d)})}function c({...e}){let t=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>u({type:"DISMISS_TOAST",toastId:t});return u({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},59462:(e,t,r)=>{"use strict";r.d(t,{I:()=>a,cn:()=>o});var s=r(82281),i=r(94805);function o(...e){return(0,i.QP)((0,s.$)(e))}let a=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)},54479:(e,t,r)=>{"use strict";r.d(t,{Sd:()=>i,aE:()=>o,xd:()=>a});var s=r(96314);let i=s.z.object({fullName:s.z.string().min(3),email:s.z.string().email(),password:s.z.string().min(8)}),o=s.z.object({email:s.z.string().email(),password:s.z.string().min(8)}),a=s.z.object({title:s.z.string().trim().min(2).max(100),description:s.z.string().trim().min(10).max(1e3),author:s.z.string().trim().min(2).max(100),genre:s.z.string().trim().min(2).max(50),rating:s.z.coerce.number().min(1).max(5),totalCopies:s.z.coerce.number().int().positive().lte(1e4),coverUrl:s.z.string().nonempty(),coverColor:s.z.string().trim().regex(/^#[0-9A-F]{6}$/i),videoUrl:s.z.string().nonempty(),summary:s.z.string().trim().min(10)})},17509:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(62740),i=r(35635),o=r(67905),a=r(31831);let n=async({children:e})=>(await (0,o.j2)()&&(0,a.redirect)("/"),(0,s.jsxs)("main",{className:"auth-container",children:[(0,s.jsx)("section",{className:"auth-form",children:(0,s.jsxs)("div",{className:"auth-box",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,s.jsx)(i.default,{src:"/icons/logo.svg",alt:"logo",width:37,height:37}),(0,s.jsx)("h1",{className:"text-2xl font-semibold text-white",children:"New Creations"})]}),(0,s.jsx)("div",{children:e})]})}),(0,s.jsx)("section",{className:"auth-illustration",children:(0,s.jsx)(i.default,{src:"/images/auth-illustration1.jpg",alt:"auth illustration",height:1e3,width:1e3,className:"size-full object-cover"})})]}))},19611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>c});var s=r(62740);r(82704);var i=r(70677),o=r(17439),a=r.n(o),n=r(36517),l=r.n(n),d=r(70452),u=r(67905);let c={title:"New Creation",description:"Free Christian Books & Articles to Strengthen Your Faith."},m=async({children:e})=>{let t=await (0,u.j2)();return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)(d.SessionProvider,{session:t,children:(0,s.jsxs)("body",{className:`${a().className} ${l().variable} antialiased`,children:[e,(0,s.jsx)(i.Toaster,{})]})})})}},67905:(e,t,r)=>{"use strict";r.d(t,{CI:()=>c,Y9:()=>d,j2:()=>m});var s=r(8542),i=r(58964),o=r(31648),a=r(17611),n=r(16726),l=r(47579);let{handlers:d,signIn:u,signOut:c,auth:m}=(0,s.Ay)({session:{strategy:"jwt"},providers:[(0,o.A)({async authorize(e){if(!e?.email||!e?.password)return null;let t=await a.db.select().from(n.VV).where((0,l.eq)(n.VV.email,e.email.toString())).limit(1);return 0===t.length?null:"APPROVED"!==t[0].status?(console.log("User status is not APPROVED:",t[0].status),null):await (0,i.compare)(e.password.toString(),t[0].password)?{id:t[0].id.toString(),email:t[0].email,name:t[0].fullName}:null}})],pages:{signIn:"/sign-in"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id,e.name=t.name),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.id,e.user.name=t.name),e)}})},70677:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\ui\\toaster.tsx","Toaster")},88340:(e,t,r)=>{"use strict";r.d(t,{db:()=>a});var s=r(94010),i=r(59228);let o=(0,r(25079).lw)(s.A.env.databaseUrl),a=(0,i.fd)(o)},17611:(e,t,r)=>{"use strict";r.d(t,{db:()=>a});var s=r(96725),i=r(57980);let o=(0,r(12042).lw)(s.A.env.databaseUrl),a=(0,i.fd)(o)},83843:(e,t,r)=>{"use strict";r.d(t,{VV:()=>f,b7:()=>v});var s=r(60610),i=r(75952),o=r(30036),a=r(58768),n=r(13752),l=r(41957),d=r(87931),u=r(66537);let c=(0,s.rL)("status",["PENDING","APPROVED","REJECTED"]),m=(0,s.rL)("role",["USER","ADMIN"]),p=(0,s.rL)("borrow_status",["BORROWED","RETURNED"]),f=(0,i.cJ)("users",{id:(0,o.uR)("id").notNull().primaryKey().defaultRandom().unique(),fullName:(0,a.yf)("full_name",{length:255}).notNull(),email:(0,n.Qq)("email").notNull().unique(),password:(0,n.Qq)("password").notNull(),status:c("status").default("PENDING"),role:m("role").default("USER"),lastActivityDate:(0,l.p6)("last_activity_date").defaultNow(),createdAt:(0,d.vE)("created_at",{withTimezone:!0}).defaultNow()}),v=(0,i.cJ)("books",{id:(0,o.uR)("id").notNull().primaryKey().defaultRandom().unique(),title:(0,a.yf)("title",{length:255}).notNull(),author:(0,a.yf)("author",{length:255}).notNull(),genre:(0,n.Qq)("genre").notNull(),rating:(0,u.nd)("rating").notNull(),coverUrl:(0,n.Qq)("cover_url").notNull(),coverColor:(0,a.yf)("cover_color",{length:7}).notNull(),description:(0,n.Qq)("description").notNull(),totalCopies:(0,u.nd)("total_copies").notNull().default(1),availableCopies:(0,u.nd)("available_copies").notNull().default(0),videoUrl:(0,n.Qq)("video_url").notNull(),summary:(0,a.yf)("summary").notNull(),createdAt:(0,d.vE)("created_at",{withTimezone:!0}).defaultNow()});(0,i.cJ)("borrow_records",{id:(0,o.uR)("id").notNull().primaryKey().defaultRandom().unique(),userId:(0,o.uR)("user_id").references(()=>f.id).notNull(),bookId:(0,o.uR)("book_id").references(()=>v.id).notNull(),borrowDate:(0,d.vE)("borrow_date",{withTimezone:!0}).defaultNow().notNull(),dueDate:(0,l.p6)("due_date").notNull(),returnDate:(0,l.p6)("return_date"),status:p("status").default("BORROWED").notNull(),createdAt:(0,d.vE)("created_at",{withTimezone:!0}).defaultNow()})},16726:(e,t,r)=>{"use strict";r.d(t,{VV:()=>f,b7:()=>v});var s=r(19357),i=r(86556),o=r(60011),a=r(99063),n=r(44799),l=r(46964),d=r(32590),u=r(9848);let c=(0,s.rL)("status",["PENDING","APPROVED","REJECTED"]),m=(0,s.rL)("role",["USER","ADMIN"]),p=(0,s.rL)("borrow_status",["BORROWED","RETURNED"]),f=(0,i.cJ)("users",{id:(0,o.uR)("id").notNull().primaryKey().defaultRandom().unique(),fullName:(0,a.yf)("full_name",{length:255}).notNull(),email:(0,n.Qq)("email").notNull().unique(),password:(0,n.Qq)("password").notNull(),status:c("status").default("PENDING"),role:m("role").default("USER"),lastActivityDate:(0,l.p6)("last_activity_date").defaultNow(),createdAt:(0,d.vE)("created_at",{withTimezone:!0}).defaultNow()}),v=(0,i.cJ)("books",{id:(0,o.uR)("id").notNull().primaryKey().defaultRandom().unique(),title:(0,a.yf)("title",{length:255}).notNull(),author:(0,a.yf)("author",{length:255}).notNull(),genre:(0,n.Qq)("genre").notNull(),rating:(0,u.nd)("rating").notNull(),coverUrl:(0,n.Qq)("cover_url").notNull(),coverColor:(0,a.yf)("cover_color",{length:7}).notNull(),description:(0,n.Qq)("description").notNull(),totalCopies:(0,u.nd)("total_copies").notNull().default(1),availableCopies:(0,u.nd)("available_copies").notNull().default(0),videoUrl:(0,n.Qq)("video_url").notNull(),summary:(0,a.yf)("summary").notNull(),createdAt:(0,d.vE)("created_at",{withTimezone:!0}).defaultNow()});(0,i.cJ)("borrow_records",{id:(0,o.uR)("id").notNull().primaryKey().defaultRandom().unique(),userId:(0,o.uR)("user_id").references(()=>f.id).notNull(),bookId:(0,o.uR)("book_id").references(()=>v.id).notNull(),borrowDate:(0,d.vE)("borrow_date",{withTimezone:!0}).defaultNow().notNull(),dueDate:(0,l.p6)("due_date").notNull(),returnDate:(0,l.p6)("return_date"),status:p("status").default("BORROWED").notNull(),createdAt:(0,d.vE)("created_at",{withTimezone:!0}).defaultNow()})},94010:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={env:{apiEndpoint:"HTTP://LOCALHOST:3000",prodApiEndpoint:process.env.NEXT_PUBLIC_PROD_API_ENDPOINT,imagekit:{publicKey:"public_BtS+r9Vnb8MycIO2ZwDml3Hga3s=",urlEndpoint:"https://ik.imagekit.io/newCreation",privateKey:process.env.IMAGEKIT_PRIVATE_KEY},databaseUrl:process.env.DATABASE_URL,upstash:{redisUrl:process.env.UPSTASH_REDIS_URL,redisToken:process.env.UPSTASH_REDIS_TOKEN,qstashUrl:process.env.QSTASH_URL,qstashToken:process.env.QSTASH_TOKEN},resendToken:process.env.RESEND_TOKEN}}},96725:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={env:{apiEndpoint:"HTTP://LOCALHOST:3000",prodApiEndpoint:process.env.NEXT_PUBLIC_PROD_API_ENDPOINT,imagekit:{publicKey:"public_BtS+r9Vnb8MycIO2ZwDml3Hga3s=",urlEndpoint:"https://ik.imagekit.io/newCreation",privateKey:process.env.IMAGEKIT_PRIVATE_KEY},databaseUrl:process.env.DATABASE_URL,upstash:{redisUrl:process.env.UPSTASH_REDIS_URL,redisToken:process.env.UPSTASH_REDIS_TOKEN,qstashUrl:process.env.QSTASH_URL,qstashToken:process.env.QSTASH_TOKEN},resendToken:process.env.RESEND_TOKEN}}},82704:()=>{}};