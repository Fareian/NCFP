{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/USER/Desktop/WORK/new_creation/app/%28auth%29/sign-up/page.tsx/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(auth)/sign-up/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(auth)/sign-up/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA+R,GAC5T,6DACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/USER/Desktop/WORK/new_creation/app/%28auth%29/sign-up/page.tsx/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(auth)/sign-up/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(auth)/sign-up/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA2Q,GACxS,yCACA"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/USER/Desktop/WORK/new_creation/database/redis.ts"],"sourcesContent":["import { Redis } from \"@upstash/redis\";\r\nimport config from \"@/lib/config\";\r\n\r\nconst redis = new Redis({\r\n  url: config.env.upstash.redisUrl,\r\n  token: config.env.upstash.redisToken,\r\n});\r\n\r\nexport default redis;\r\n"],"names":[],"mappings":";;;AAAA;AACA;AADA;;;AAGA,MAAM,QAAQ,IAAI,6JAAA,CAAA,QAAK,CAAC;IACtB,KAAK,6GAAA,CAAA,UAAM,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ;IAChC,OAAO,6GAAA,CAAA,UAAM,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU;AACtC;uCAEe"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/USER/Desktop/WORK/new_creation/lib/ratelimit.ts"],"sourcesContent":["import { Ratelimit } from \"@upstash/ratelimit\";\r\nimport redis from \"@/database/redis\";\r\n\r\nconst ratelimit = new Ratelimit({\r\n  redis,\r\n  limiter: Ratelimit.fixedWindow(5, \"1m\"),\r\n  analytics: true,\r\n  prefix: \"@upstash/ratelimit\",\r\n});\r\n\r\nexport default ratelimit;\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA,MAAM,YAAY,IAAI,uJAAA,CAAA,YAAS,CAAC;IAC9B,OAAA,iHAAA,CAAA,UAAK;IACL,SAAS,uJAAA,CAAA,YAAS,CAAC,WAAW,CAAC,GAAG;IAClC,WAAW;IACX,QAAQ;AACV;uCAEe"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/USER/Desktop/WORK/new_creation/lib/actions/auth.ts"],"sourcesContent":["\"use server\";\n\nimport { eq } from \"drizzle-orm\";\nimport { db } from \"@/database/drizzle\";\nimport { users } from \"@/database/schema\";\nimport { hash } from \"bcryptjs\";\nimport { signIn } from \"@/auth\";\nimport { headers } from \"next/headers\";\nimport ratelimit from \"@/lib/ratelimit\";\nimport { redirect } from \"next/navigation\";\nimport { workflowClient } from \"@/lib/workflow\";\nimport config from \"@/lib/config\";\n\nexport const signInWithCredentials = async (\n  params: Pick<AuthCredentials, \"email\" | \"password\">,\n) => {\n  const { email, password } = params;\n\n  const ip = (await headers()).get(\"x-forwarded-for\") || \"127.0.0.1\";\n  const { success } = await ratelimit.limit(ip);\n  if (!success) return redirect(\"/too-fast\");\n\n  try {\n    const result = await signIn(\"credentials\", {\n      email,\n      password,\n      redirect: false,\n    });\n\n    if (result?.error) {\n      return { success: false, error: result.error };\n    }\n\n    return { success: true };\n  } catch (error) {\n    console.log(error, \"Signin error\");\n    return { success: false, error: \"Signin error\" };\n  }\n};\n\nexport const signUp = async (params: AuthCredentials) => {\n  console.log(\"signUp action called with params:\", params);\n  \n  const { fullName, email, password } = params;\n\n  const ip = (await headers()).get(\"x-forwarded-for\") || \"127.0.0.1\";\n  const { success } = await ratelimit.limit(ip);\n  if (!success) return redirect(\"/too-fast\");\n\n  console.log(\"Rate limit check passed\");\n\n  try {\n    const existingUser = await db\n      .select()\n      .from(users)\n      .where(eq(users.email, email))\n      .limit(1);\n\n    console.log(\"Existing user check completed\");\n\n    if (existingUser.length > 0) {\n      console.log(\"User already exists\");\n      return { success: false, error: \"User already exists\" };\n    }\n\n    console.log(\"Hashing password...\");\n    const hashedPassword = await hash(password, 10);\n\n    console.log(\"Inserting user into database...\");\n    await db.insert(users).values({\n      fullName,\n      email,\n      password: hashedPassword,\n    });\n\n    console.log(\"User inserted successfully, attempting sign in...\");\n    await signInWithCredentials({ email, password });\n\n    console.log(\"Sign up completed successfully\");\n    return { success: true };\n  } catch (error) {\n    console.log(error, \"Signup error\");\n    return { success: false, error: \"Signup error\" };\n  }\n};\n"],"names":[],"mappings":";;;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAPA;;;;;;;;;;;AAWO,MAAM,uCAAmB,GAAnB,wBAAwB,OACnC;IAEA,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG;IAE5B,MAAM,KAAK,CAAC,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD,GAAG,EAAE,GAAG,CAAC,sBAAsB;IACvD,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,gHAAA,CAAA,UAAS,CAAC,KAAK,CAAC;IAC1C,IAAI,CAAC,SAAS,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IAE9B,IAAI;QACF,MAAM,SAAS,MAAM,CAAA,GAAA,oGAAA,CAAA,SAAM,AAAD,EAAE,eAAe;YACzC;YACA;YACA,UAAU;QACZ;QAEA,IAAI,QAAQ,OAAO;YACjB,OAAO;gBAAE,SAAS;gBAAO,OAAO,OAAO,KAAK;YAAC;QAC/C;QAEA,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC,OAAO;QACnB,OAAO;YAAE,SAAS;YAAO,OAAO;QAAe;IACjD;AACF;AAEO,MAAM,uCAAI,GAAJ,SAAS,OAAO;IAC3B,QAAQ,GAAG,CAAC,qCAAqC;IAEjD,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG;IAEtC,MAAM,KAAK,CAAC,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD,GAAG,EAAE,GAAG,CAAC,sBAAsB;IACvD,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,gHAAA,CAAA,UAAS,CAAC,KAAK,CAAC;IAC1C,IAAI,CAAC,SAAS,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IAE9B,QAAQ,GAAG,CAAC;IAEZ,IAAI;QACF,MAAM,eAAe,MAAM,mHAAA,CAAA,KAAE,CAC1B,MAAM,GACN,IAAI,CAAC,kHAAA,CAAA,QAAK,EACV,KAAK,CAAC,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,kHAAA,CAAA,QAAK,CAAC,KAAK,EAAE,QACtB,KAAK,CAAC;QAET,QAAQ,GAAG,CAAC;QAEZ,IAAI,aAAa,MAAM,GAAG,GAAG;YAC3B,QAAQ,GAAG,CAAC;YACZ,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAsB;QACxD;QAEA,QAAQ,GAAG,CAAC;QACZ,MAAM,iBAAiB,MAAM,CAAA,GAAA,iIAAA,CAAA,OAAI,AAAD,EAAE,UAAU;QAE5C,QAAQ,GAAG,CAAC;QACZ,MAAM,mHAAA,CAAA,KAAE,CAAC,MAAM,CAAC,kHAAA,CAAA,QAAK,EAAE,MAAM,CAAC;YAC5B;YACA;YACA,UAAU;QACZ;QAEA,QAAQ,GAAG,CAAC;QACZ,MAAM,sBAAsB;YAAE;YAAO;QAAS;QAE9C,QAAQ,GAAG,CAAC;QACZ,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC,OAAO;QACnB,OAAO;YAAE,SAAS;YAAO,OAAO;QAAe;IACjD;AACF;;;IAvEa;IA2BA;;AA3BA,+OAAA;AA2BA,+OAAA"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}