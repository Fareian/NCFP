(()=>{var e={};e.id=817,e.ids=[817],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},11067:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c});var n=r(70260),o=r(28203),i=r(25155),s=r.n(i),a=r(67292),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let c=["",{children:["(root)",{children:["books",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,89758)),"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\app\\(root)\\books\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99616)),"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\app\\(root)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],u=["C:\\Users\\USER\\Desktop\\WORK\\new_creation\\app\\(root)\\books\\[id]\\page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(root)/books/[id]/page",pathname:"/books/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},82379:(e,t,r)=>{Promise.resolve().then(r.bind(r,25316)),Promise.resolve().then(r.t.bind(r,71066,23))},81699:(e,t,r)=>{Promise.resolve().then(r.bind(r,418)),Promise.resolve().then(r.t.bind(r,41902,23))},16840:(e,t,r)=>{Promise.resolve().then(r.bind(r,11563)),Promise.resolve().then(r.bind(r,22994)),Promise.resolve().then(r.t.bind(r,59607,23)),Promise.resolve().then(r.t.bind(r,71066,23))},3688:(e,t,r)=>{Promise.resolve().then(r.bind(r,9668)),Promise.resolve().then(r.bind(r,81846)),Promise.resolve().then(r.t.bind(r,28531,23)),Promise.resolve().then(r.t.bind(r,41902,23))},418:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(45512);r(58009);var o=r(59462);let i=({coverColor:e})=>(0,n.jsxs)("svg",{preserveAspectRatio:"none",fill:"none",width:"100%",height:"100%",viewBox:"0 0 143 199",xmlns:"http://www.w3.org/2000/svg",className:"absolute inset-0",children:[(0,n.jsx)("path",{d:"M141.851 196.481H140.652V174.61C141.39 173.885 141.851 172.876 141.851 171.763V4.26316C141.851 2.07107 140.068 0.277516 137.889 0.277516H16.7824C16.7824 0.277516 3.06348 -0.381156 0 11.5424V183.921C0 199.797 9.59001 198.993 9.59001 198.993H141.851C142.497 198.886 142.991 198.655 143 197.938C143.018 196.582 141.851 196.481 141.851 196.481Z",fill:"#CAD7DB"}),(0,n.jsx)("path",{d:"M141.851 196.481H140.652V194.036H4.79924C2.20563 190.492 2.50324 184.366 2.50324 184.366C2.76966 174.251 16.7824 175.749 16.7824 175.749H137.888C138.961 175.749 139.937 175.313 140.652 174.61C141.39 173.885 141.851 172.876 141.851 171.763V4.26316C141.851 2.07107 140.068 0.277516 137.888 0.277516H16.7824C16.7824 0.277516 3.06348 -0.381156 0 11.5424V183.921C0 199.797 9.59001 198.993 9.59001 198.993H141.851C142.497 198.886 142.991 198.655 143 197.938C143.018 196.582 141.851 196.481 141.851 196.481Z",fill:e}),(0,n.jsx)("path",{d:"M16.7824 173.873V0.277516C16.7824 0.277516 3.06348 -0.381156 0 11.5424V183.921C0 183.921 1.70019e-06 173.27 16.7824 173.873Z",fill:e}),(0,n.jsx)("path",{d:"M118.676 34.8091H33.5649V72.9915H118.676V34.8091Z",fill:e}),(0,n.jsx)("path",{d:"M6.3468 19.8239C8.70341 18.7114 11.202 18.121 13.1615 17.8225C15.1211 17.5225 16.5391 17.5098 16.7401 17.51H16.7607H16.761L16.7689 17.5102H16.7823V14.0939L16.7402 14.0938C16.1538 14.0991 11.6323 14.136 6.74782 15.955C4.44814 16.8161 2.05989 18.0912 0 19.9928V25.3396C0.569709 24.3755 1.24048 23.5291 1.99482 22.7842C3.26784 21.5331 4.77417 20.5647 6.3468 19.8239Z",fill:"white"}),(0,n.jsx)("path",{d:"M7.17491 29.1211C9.53787 27.7332 11.9814 26.9986 13.8218 26.6228C14.7415 26.4345 15.5093 26.3349 16.0373 26.283C16.3014 26.257 16.5054 26.243 16.6387 26.2354C16.7046 26.2317 16.7524 26.2298 16.7823 26.2286V22.8115H16.7666L16.7495 22.8119C16.6123 22.8205 12.2181 22.8977 7.31586 25.1949C4.86821 26.3461 2.28842 28.0692 0.124461 30.6432C0.0818969 30.6937 0.0422296 30.75 0 30.8013V37.431C0.727262 35.6175 1.6601 34.1105 2.71796 32.849C4.05638 31.2571 5.59793 30.0464 7.17491 29.1211Z",fill:"white"}),(0,n.jsx)("path",{d:"M6.34702 153.638C8.70375 152.525 11.2022 151.935 13.1617 151.636C15.1213 151.336 16.5393 151.324 16.7403 151.324H16.7587H16.7588L16.7667 151.324H16.7823V147.908L16.7402 147.908C16.1538 147.913 11.6324 147.95 6.74782 149.769C4.44826 150.63 2.06 151.905 0 153.807V159.154C0.569709 158.189 1.2407 157.343 1.99504 156.598C3.26806 155.347 4.77439 154.379 6.34702 153.638Z",fill:"white"}),(0,n.jsx)("path",{d:"M7.17491 162.935C9.53787 161.547 11.9814 160.813 13.8218 160.437C14.7415 160.249 15.5093 160.149 16.0373 160.097C16.3014 160.071 16.5054 160.057 16.6387 160.05C16.7046 160.046 16.7524 160.044 16.7823 160.043V156.625H16.7666L16.7495 156.626C16.6123 156.634 12.2181 156.712 7.31586 159.009C4.86821 160.16 2.28842 161.883 0.124461 164.457C0.0818969 164.508 0.0422296 164.564 0 164.615V171.245C0.727262 169.432 1.6601 167.925 2.71796 166.663C4.05638 165.071 5.59793 163.86 7.17491 162.935Z",fill:"white"}),(0,n.jsx)("path",{d:"M141.851 196.481H9.19034C7.1895 196.361 5.78601 195.384 4.79924 194.036C2.20563 190.492 2.50324 184.366 2.50324 184.366C2.76966 174.251 16.7824 175.749 16.7824 175.749H137.888C138.961 175.749 139.937 175.312 140.652 174.61C141.39 173.885 141.851 172.876 141.851 171.763V169.887C141.851 172.079 140.068 173.873 137.888 173.873H16.7824C1.70019e-06 173.27 0 183.921 0 183.921C0 199.797 9.59001 198.993 9.59001 198.993H141.851C142.497 198.885 142.991 198.654 143 197.938C143.018 196.581 141.851 196.481 141.851 196.481Z",fill:"#03030B"}),(0,n.jsx)("path",{d:"M13.9253 184.443C23.7659 181.368 34.4608 180.461 44.7071 180.008C55.8062 179.517 66.919 179.88 78.0178 180.19C89.0344 180.499 99.9894 180.437 111.004 180.14C116.509 179.992 122.108 179.803 127.587 180.459C131.917 180.977 136.279 181.915 140.652 181.968V174.61C139.937 175.313 138.961 175.749 137.888 175.749H16.7822C16.7822 175.749 2.76943 174.252 2.50302 184.367C2.50302 184.367 2.38736 186.75 2.92955 189.403C6.35961 187.354 10.0113 185.666 13.9253 184.443Z",fill:"#AAB8BC"})]}),s={extraSmall:"book-cover_extra_small",small:"book-cover_small",medium:"book-cover_medium",regular:"book-cover_regular",wide:"book-cover_wide"},a=({className:e,variant:t="regular",coverColor:r="#012B48",coverImage:a="https://placehold.co/400x600.png"})=>(0,n.jsxs)("div",{className:(0,o.cn)("relative transition-all duration-300",s[t],e),children:[(0,n.jsx)(i,{coverColor:r}),(0,n.jsx)("div",{className:"absolute z-10",style:{left:"12%",width:"87.5%",height:"88%"}})]})},9668:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(45512),o=r(45103),i=r(98805);let s=()=>{let e=async()=>{await (0,i.CI)({callbackUrl:"/sign-in"})};return(0,n.jsxs)("button",{onClick:e,className:"flex items-center gap-2 text-light-100 hover:text-white transition-colors",children:[(0,n.jsx)(o.default,{src:"/icons/logout.svg",alt:"logout",width:20,height:20}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})}},89758:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var n=r(62740),o=r(76301),i=r.n(o),s=r(35635),a=r(25316),l=r(38537);let c=async({title:e,author:t,genre:r,rating:o,totalCopies:i,availableCopies:c,description:u,coverColor:d,coverUrl:p,id:f,userId:m})=>(0,n.jsxs)("section",{className:"book-overview",children:[(0,n.jsxs)("div",{className:"flex flex-1 flex-col gap-5",children:[(0,n.jsx)("h1",{children:e}),(0,n.jsxs)("div",{className:"book-info",children:[(0,n.jsxs)("p",{children:["By ",(0,n.jsx)("span",{className:"font-semibold text-light-200",children:t})]}),(0,n.jsxs)("p",{children:["Category"," ",(0,n.jsx)("span",{className:"font-semibold text-light-200",children:r})]}),(0,n.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,n.jsx)(s.default,{src:"/icons/star.svg",alt:"star",width:22,height:22}),(0,n.jsx)("p",{children:o})]})]}),(0,n.jsxs)("div",{className:"book-copies",children:[(0,n.jsxs)("p",{children:["Total Books: ",(0,n.jsx)("span",{children:i})]}),(0,n.jsxs)("p",{children:["Available Books: ",(0,n.jsx)("span",{children:c})]})]}),(0,n.jsx)("p",{className:"book-description",children:u}),(0,n.jsxs)(l.$,{className:"book-overview_btn",children:["Borrow Book",(0,n.jsx)(s.default,{src:"/icons/book.svg",alt:"book",width:20,height:20}),(0,n.jsx)("p",{className:"font-bebas-neue text-xl text-dark-100",children:"Borrow Book"})]})]}),(0,n.jsx)("div",{className:"relative flex flex-1 justify-center",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(a.default,{variant:"wide",className:"z-10",coverColor:d,coverImage:p}),(0,n.jsx)("div",{className:"absolute left-16 top-10 rotate-12 opacity-40 max-sm:hidden",children:(0,n.jsx)(a.default,{variant:"wide",coverColor:d,coverImage:p})})]})})]});function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h={MANDATORY_INITIALIZATION_MISSING:{message:"Missing urlEndpoint during SDK initialization",help:""},INVALID_TRANSFORMATION_POSITION:{message:"Invalid transformationPosition parameter",help:""},MISSING_UPLOAD_FILE_PARAMETER:{message:"Missing file parameter for upload",help:""},MISSING_UPLOAD_FILENAME_PARAMETER:{message:"Missing fileName parameter for upload",help:""},MISSING_PUBLIC_KEY:{message:"Missing public key for upload",help:""},UPLOAD_ENDPOINT_NETWORK_ERROR:{message:"Request to ImageKit upload endpoint failed due to network error",help:""},INVALID_UPLOAD_OPTIONS:{message:"Invalid uploadOptions parameter",help:""},MISSING_SIGNATURE:{message:"Missing signature for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_TOKEN:{message:"Missing token for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_EXPIRE:{message:"Missing expire for upload. The SDK expects token, signature and expire for authentication.",help:""},INVALID_TRANSFORMATION:{message:"Invalid transformation parameter. Please include at least pre, post, or both.",help:""},INVALID_PRE_TRANSFORMATION:{message:"Invalid pre transformation parameter.",help:""},INVALID_POST_TRANSFORMATION:{message:"Invalid post transformation parameter.",help:""}};function v(e,t,r){"function"==typeof r&&(e?r(t,null):r(null,t))}var g=function(e,t){var r,n,o=f({},e);return Object.defineProperty(o,"$ResponseMetadata",{value:{statusCode:t.status,headers:(r={},Object.keys(n=t.getAllResponseHeaders()).length&&n.trim().split(/[\r\n]+/).map(function(e){return e.split(/: /)}).forEach(function(e){r[e[0].trim()]=e[1].trim()}),r)},enumerable:!1,writable:!1}),o},x=function(e,t,r){b(e,t).then(function(e){return v(!1,e,r)},function(e){return v(!0,e,r)})},b=function(e,t){return new Promise(function(r,n){e.open("POST","https://upload.imagekit.io/api/v1/files/upload"),e.onerror=function(e){return n(h.UPLOAD_ENDPOINT_NETWORK_ERROR)},e.onload=function(){if(200===e.status)try{var t=JSON.parse(e.responseText),o=g(t,e);return r(o)}catch(e){return n(e)}else try{var t=JSON.parse(e.responseText),i=g(t,e);return n(i)}catch(e){return n(e)}},e.send(t)})},y=function(e,t,r,n){if(!t.file){v(!0,h.MISSING_UPLOAD_FILE_PARAMETER,n);return}if(!t.fileName){v(!0,h.MISSING_UPLOAD_FILENAME_PARAMETER,n);return}if(!r.publicKey){v(!0,h.MISSING_PUBLIC_KEY,n);return}if(!t.token){v(!0,h.MISSING_TOKEN,n);return}if(!t.signature){v(!0,h.MISSING_SIGNATURE,n);return}if(!t.expire){v(!0,h.MISSING_EXPIRE,n);return}if(t.transformation){if(!(Object.keys(t.transformation).includes("pre")||Object.keys(t.transformation).includes("post"))){v(!0,h.INVALID_TRANSFORMATION,n);return}if(Object.keys(t.transformation).includes("pre")&&!t.transformation.pre){v(!0,h.INVALID_PRE_TRANSFORMATION,n);return}if(Object.keys(t.transformation).includes("post")){if(Array.isArray(t.transformation.post)){var o,i,s=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return m(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,void 0)}}(e))){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,s=!0,a=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==o.return||o.return()}finally{if(a)throw i}}}}(t.transformation.post);try{for(s.s();!(i=s.n()).done;){var a=i.value;if("abs"!==a.type||a.protocol||a.value){if("transformation"===a.type&&!a.value){v(!0,h.INVALID_POST_TRANSFORMATION,n);return}}else{v(!0,h.INVALID_POST_TRANSFORMATION,n);return}}}catch(e){s.e(e)}finally{s.f()}}else{v(!0,h.INVALID_POST_TRANSFORMATION,n);return}}}var l=new FormData;for(o in t)o&&("file"===o&&"string"!=typeof t.file?l.append("file",t.file,String(t.fileName)):"tags"===o&&Array.isArray(t.tags)?l.append("tags",t.tags.join(",")):"signature"===o?l.append("signature",t.signature):"expire"===o?l.append("expire",String(t.expire)):"token"===o?l.append("token",t.token):"responseFields"===o&&Array.isArray(t.responseFields)?l.append("responseFields",t.responseFields.join(",")):"extensions"===o&&Array.isArray(t.extensions)?l.append("extensions",JSON.stringify(t.extensions)):"customMetadata"!==o||"object"!==u(t.customMetadata)||Array.isArray(t.customMetadata)||null===t.customMetadata?"transformation"===o&&"object"===u(t.transformation)&&null!==t.transformation?l.append(o,JSON.stringify(t.transformation)):"checks"===o&&t.checks?l.append("checks",t.checks):void 0!==t[o]&&l.append(o,String(t[o])):l.append("customMetadata",JSON.stringify(t.customMetadata)));l.append("publicKey",r.publicKey),x(e,l,n)},C={width:"w",height:"h",aspectRatio:"ar",quality:"q",crop:"c",cropMode:"cm",focus:"fo",x:"x",y:"y",format:"f",radius:"r",background:"bg",border:"b",rotation:"rt",rotate:"rt",blur:"bl",named:"n",progressive:"pr",lossless:"lo",trim:"t",metadata:"md",colorProfile:"cp",defaultImage:"di",dpr:"dpr",effectSharpen:"e-sharpen",effectUSM:"e-usm",effectContrast:"e-contrast",effectGray:"e-grayscale",original:"orig",effectShadow:"e-shadow",effectGradient:"e-gradient",raw:"raw"},j="path",w="query",A=[j,w],I={getDefault:function(){return j},addAsQueryParameter:function(e){return e.transformationPosition===w},validParameters:function(e){return void 0!==e.transformationPosition&&-1!=A.indexOf(e.transformationPosition)},getTransformKey:function(e){return e&&(C[e]||C[e.toLowerCase()])||""},getChainTransformDelimiter:function(){return":"},getTransformDelimiter:function(){return","},getTransformKeyValueDelimiter:function(){return"-"}};function O(e,t){var r=t||"/",n=RegExp(r+"{1,}","g");return e.join(r).replace(n,r)}var N=function(e){if(!e.path&&!e.src)return"";try{e.path?(o=new URL(e.urlEndpoint).pathname,r=new URL(O([e.urlEndpoint.replace(o,""),e.path]))):(r=new URL(e.src),n=!0)}catch(e){return console.error(e),""}for(var t in e.queryParameters)r.searchParams.append(t,String(e.queryParameters[t]));var r,n,o,i=function(e){if(!Array.isArray(e))return"";for(var t=[],r=0,n=e.length;r<n;r++){var o=[];for(var i in e[r])if(void 0!==e[r][i]&&null!==e[r][i]){var s=I.getTransformKey(i);if(s||(s=i),"-"===e[r][i])o.push(s);else if("raw"===i)o.push(e[r][i]);else{var a,l,c=e[r][i];"di"===s&&("string"==typeof("string"==typeof(a=c||"")&&"/"==a[0]&&(a=a.slice(1)),l=a)&&"/"==l[l.length-1]&&(l=l.substring(0,l.length-1)),c=(c=l).replace(/\//g,"@@")),o.push([s,c].join(I.getTransformKeyValueDelimiter()))}}t.push(o.join(I.getTransformDelimiter()))}return t.join(I.getChainTransformDelimiter())}(e.transformation);return i&&i.length&&(I.addAsQueryParameter(e)||n?r.searchParams.append("tr",i):r.pathname=O(["tr"+I.getChainTransformDelimiter()+i,r.pathname])),o?r.pathname=O([o,r.pathname]):r.pathname=O([r.pathname]),r.href},S=function(){var e;function t(e){if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),d(this,"options",{sdkVersion:"javascript-".concat("3.0.2"),publicKey:"",urlEndpoint:"",transformationPosition:I.getDefault()}),this.options=f(f({},this.options),e||{}),!this.options.urlEndpoint)throw h.MANDATORY_INITIALIZATION_MISSING;if(!I.validParameters(this.options))throw h.INVALID_TRANSFORMATION_POSITION}return e=[{key:"url",value:function(e){return N(f(f({},this.options),e))}},{key:"upload",value:function(e,t,r){if("function"==typeof t?o=t:r=t||{},!e||"object"!==u(e))return v(!0,h.INVALID_UPLOAD_OPTIONS,o);var n,o,i=f(f({},this.options),r),s=(e||{}).xhr;delete e.xhr;var a=s||new XMLHttpRequest;return(n=this,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length!==y.length||void 0===t[t.length-1])return new Promise(function(e,r){t.pop(),t.push(function(t){if(t)return r(t);for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e(o.length>1?o:o[0])}),y.call.apply(y,[n].concat(t))});if("function"!=typeof t[t.length-1])throw Error("Callback must be a function.");y.call.apply(y,[n].concat(t))})(a,e,i,o)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}();function P(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}"function"==typeof SuppressedError&&SuppressedError;let k=(0,o.createContext)({}),E=e=>{let t=(e=>{let t=["publicKey","urlEndpoint","authenticator","transformationPosition","ikClient"];for(let r in e)t.includes(r)||delete e[r];return e})(Object.assign({},e));return t.urlEndpoint&&""!==t.urlEndpoint.trim()&&(t.ikClient=new S({urlEndpoint:t.urlEndpoint,sdkVersion:""})),i().createElement(k.Provider,{value:t},e.children)},_=e=>{let t=(0,o.useContext)(k);return{getIKClient:()=>{if(t&&t.ikClient)return t.ikClient;let{urlEndpoint:r}=e;if(!(r=r||t&&t.urlEndpoint)||""===r.trim())throw Error("Missing urlEndpoint during initialization");return new S({urlEndpoint:r,sdkVersion:""})}}},R=({urlEndpoint:e,lqip:t,src:r,path:n,transformation:o,transformationPosition:i,queryParameters:s},a,l)=>{let c;if(r)c={urlEndpoint:e||l.urlEndpoint,src:r,transformation:o||void 0,transformationPosition:i||l.transformationPosition||void 0,queryParameters:s||{}};else{if(!n)return{originalSrc:""};c={urlEndpoint:e||l.urlEndpoint,path:n,transformation:o||void 0,transformationPosition:i||l.transformationPosition||void 0,queryParameters:s||{}}}let u={originalSrc:a.url(c)};if(t&&t.active){var d=Math.round(t.quality||t.threshold||20),p=Math.round(t.blur||6),f=c.transformation?[...c.transformation]:[];t.raw&&"string"==typeof t.raw&&""!==t.raw.trim()?f.push({raw:t.raw.trim()}):f.push({quality:String(d),blur:String(p)}),u.lqipSrc=a.url(Object.assign(Object.assign({},c),{transformation:f}))}return u};(0,o.forwardRef)((e,t)=>{let[r,n]=(0,o.useState)({}),s=(0,o.useContext)(k),{getIKClient:a}=_(Object.assign({},e));(0,o.useEffect)(()=>{t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current.abort=()=>{r.xhr&&r.xhr.abort()})},[r.xhr,t]);let{publicKey:l,urlEndpoint:c,authenticator:u,fileName:d,useUniqueFileName:p,tags:f,folder:m,isPrivateFile:h,customCoordinates:v,responseFields:g,onError:x,onSuccess:b,onUploadStart:y,onUploadProgress:C,validateFile:j,webhookUrl:w,overwriteFile:A,overwriteAITags:I,overwriteTags:O,overwriteCustomMetadata:N,extensions:S,customMetadata:E,transformation:R,overrideParameters:M,checks:T}=e,U=P(e,["publicKey","urlEndpoint","authenticator","fileName","useUniqueFileName","tags","folder","isPrivateFile","customCoordinates","responseFields","onError","onSuccess","onUploadStart","onUploadProgress","validateFile","webhookUrl","overwriteFile","overwriteAITags","overwriteTags","overwriteCustomMetadata","extensions","customMetadata","transformation","overrideParameters","checks"]),D=t=>{let r=e.publicKey||s.publicKey,o=e.authenticator||s.authenticator,i=e.urlEndpoint||s.urlEndpoint;if(!r||""===r.trim()){x&&"function"==typeof x&&x({message:"Missing publicKey"});return}if(!o){x&&"function"==typeof x&&x({message:"The authenticator function is not provided."});return}if("function"!=typeof o){x&&"function"==typeof x&&x({message:"The provided authenticator is not a function."});return}if(!i||""===i.trim()){x&&"function"==typeof x&&x({message:"Missing urlEndpoint"});return}var l,c=a();let u=null===(l=t.target.files)||void 0===l?void 0:l[0];if(!u||e.validateFile&&!e.validateFile(u))return;e.onUploadStart&&"function"==typeof e.onUploadStart&&e.onUploadStart(t);let y={};e.overrideParameters&&"function"==typeof e.overrideParameters&&(y=e.overrideParameters(u)||{});let C=new XMLHttpRequest,j=t=>{e.onUploadProgress&&"function"==typeof e.onUploadProgress&&e.onUploadProgress(t)};C.upload.addEventListener("progress",j);var P={file:u,fileName:y.fileName||d||u.name,useUniqueFileName:y.useUniqueFileName||p,tags:y.tags||f,folder:y.folder||m,isPrivateFile:y.isPrivateFile||h,customCoordinates:y.customCoordinates||v,responseFields:g,extensions:y.extensions||S,webhookUrl:y.webhookUrl||w,overwriteFile:y.overwriteFile||A,overwriteAITags:y.overwriteAITags||I,overwriteTags:y.overwriteTags||O,overwriteCustomMetadata:y.overwriteCustomMetadata||N,customMetadata:y.customMetadata||E,signature:"",expire:0,token:"",xhr:C,transformation:y.transformation||R,checks:y.checks||T};let k=o();if(!(k instanceof Promise)){x&&"function"==typeof x&&x({message:"The authenticator function is expected to return a Promise instance."});return}k.then(({signature:e,token:t,expire:o})=>{P.signature=e,P.expire=o,P.token=t,c.upload(P,(e,t)=>{e?x&&"function"==typeof x&&x(e):b&&"function"==typeof b&&b(t),C.upload.removeEventListener("progress",j)},{publicKey:r}),n({xhr:C})}).catch(e=>{var t;t=e instanceof Array?e[0]:e,x&&"function"==typeof x&&x({message:String(t)})})};return i().createElement("input",Object.assign({},U,{ref:t,type:"file",onChange:t=>{e.onChange&&"function"==typeof e.onChange&&e.onChange(t),D(t)}}))});let M=e=>{let t=(0,o.useRef)(null),[r,n]=(0,o.useState)({currentUrl:"",contextOptions:{}}),{getIKClient:s}=_(Object.assign({},e)),a=(0,o.useContext)(k);(0,o.useEffect)(()=>{let{originalSrc:t}=R(e,s(),a);n(e=>Object.assign(Object.assign({},e),{currentUrl:t,contextOptions:a}))},[a,e]);let{currentUrl:l}=r,c=P(e,["urlEndpoint","publicKey","authenticator","path","src","transformation","transformationPosition","queryParameters"]);return i().createElement("video",Object.assign({},c,{ref:t,key:l}),i().createElement("source",{src:l||void 0,type:"video/mp4"}))};var T=r(96725);let U=({videoUrl:e})=>(0,n.jsx)(E,{publicKey:T.A.env.imagekit.publicKey,urlEndpoint:T.A.env.imagekit.urlEndpoint,children:(0,n.jsx)(M,{path:e,controls:!0,className:"w-full rounded-xl"})}),D=async({params:e})=>{let t={id:(await e).id,title:"Sample Book",author:"Sample Author",genre:"Fiction",rating:4,coverUrl:"/images/book-cover.jpg",coverColor:"#E7C9A5",description:"A sample book description",totalCopies:5,availableCopies:3,videoUrl:"https://example.com/video",summary:"This is a sample book summary.\nIt has multiple lines.\nFor testing purposes."};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{...t,userId:"1"}),(0,n.jsx)("div",{className:"book-details",children:(0,n.jsxs)("div",{className:"flex-[1.5]",children:[(0,n.jsxs)("section",{className:"flex flex-col gap-7",children:[(0,n.jsx)("h3",{children:"Video"}),(0,n.jsx)(U,{videoUrl:t.videoUrl})]}),(0,n.jsxs)("section",{className:"mt-10 flex flex-col gap-7",children:[(0,n.jsx)("h3",{children:"Summary"}),(0,n.jsx)("div",{className:"space-y-5 text-xl text-light-100",children:t.summary.split("\n").map((e,t)=>(0,n.jsx)("p",{children:e},t))})]})]})})]})}},99616:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(62740),o=r(59607),i=r.n(o),s=r(35635),a=r(22994),l=r(11563);let c=({session:e})=>(console.log("Header session:",e),console.log("Session user:",e?.user),(0,n.jsxs)("header",{className:"my-10 flex justify-between gap-5",children:[(0,n.jsx)(i(),{href:"/",children:(0,n.jsx)(s.default,{src:"/icons/logo.svg",alt:"logo",width:40,height:40})}),(0,n.jsx)("ul",{className:"flex flex-row items-center gap-8",children:e?.user?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsxs)(i(),{href:"/my-profile",className:"flex items-center gap-2 text-primary hover:text-primary/80",children:[(0,n.jsxs)(a.Avatar,{className:"h-8 w-8",children:[(0,n.jsx)(a.AvatarImage,{src:"",alt:e.user.name||"User"}),(0,n.jsx)(a.AvatarFallback,{className:"bg-primary text-dark-100 text-sm font-semibold",children:e.user.name?e.user.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U"})]}),(0,n.jsx)("span",{className:"hidden sm:inline",children:e.user.name})]})}),(0,n.jsx)("li",{children:(0,n.jsx)(l.default,{})})]}):(0,n.jsx)("li",{children:(0,n.jsx)(i(),{href:"/sign-in",className:"text-primary hover:text-primary/80",children:"Sign In"})})})]}));var u=r(67905),d=r(31831),p=r(39187),f=r(17611),m=r(16726),h=r(47579);let v=async({children:e})=>{let t=await (0,u.j2)();return console.log("Root layout session:",t),console.log("Session user:",t?.user),t||(0,d.redirect)("/sign-in"),(0,p.after)(async()=>{t?.user?.id&&(await f.db.select().from(m.VV).where((0,h.eq)(m.VV.id,t?.user?.id)).limit(1))[0].lastActivityDate!==new Date().toISOString().slice(0,10)&&await f.db.update(m.VV).set({lastActivityDate:new Date().toISOString().slice(0,10)}).where((0,h.eq)(m.VV.id,t?.user?.id))}),(0,n.jsx)("main",{className:"root-container",children:(0,n.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,n.jsx)(c,{session:t}),(0,n.jsx)("div",{className:"mt-20 pb-20",children:e})]})})}},25316:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Desktop\\\\WORK\\\\new_creation\\\\components\\\\BookCover.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\BookCover.tsx","default")},11563:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Desktop\\\\WORK\\\\new_creation\\\\components\\\\LogoutButton.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\LogoutButton.tsx","default")},22994:(e,t,r)=>{"use strict";r.d(t,{Avatar:()=>o,AvatarFallback:()=>s,AvatarImage:()=>i});var n=r(46760);let o=(0,n.registerClientReference)(function(){throw Error("Attempted to call Avatar() from the server but Avatar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\ui\\avatar.tsx","Avatar"),i=(0,n.registerClientReference)(function(){throw Error("Attempted to call AvatarImage() from the server but AvatarImage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\ui\\avatar.tsx","AvatarImage"),s=(0,n.registerClientReference)(function(){throw Error("Attempted to call AvatarFallback() from the server but AvatarFallback is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\ui\\avatar.tsx","AvatarFallback")},38537:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var n=r(62740),o=r(76301),i=r(15225),s=r(67699),a=r(55946);let l=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef(({className:e,variant:t,size:r,asChild:o=!1,...s},c)=>{let u=o?i.DX:"button";return(0,n.jsx)(u,{className:(0,a.cn)(l({variant:t,size:r,className:e})),ref:c,...s})});c.displayName="Button"},55946:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var n=r(13673),o=r(47317);function i(...e){return(0,o.QP)((0,n.$)(e))}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[994,980,187,988,844,340,496,635,864],()=>r(11067));module.exports=n})();