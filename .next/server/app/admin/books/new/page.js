(()=>{var e={};e.id=558,e.ids=[558],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},6519:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var o=t(70260),n=t(28203),a=t(25155),s=t.n(a),l=t(67292),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let c=["",{children:["admin",{children:["books",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,12516)),"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\app\\admin\\books\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9763)),"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],d=["C:\\Users\\USER\\Desktop\\WORK\\new_creation\\app\\admin\\books\\new\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new o.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/books/new/page",pathname:"/admin/books/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},90559:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"7f6a036db7187c7274d4131f37a9f6ddb18b251d8c":()=>l});var o=t(21590);t(70376);var n=t(83843),a=t(88340),s=t(99344);let l=async e=>{try{let r=await a.db.insert(n.b7).values({...e,availableCopies:e.totalCopies}).returning();return{success:!0,data:JSON.parse(JSON.stringify(r[0]))}}catch(e){return console.log(e),{success:!1,message:"An error occurred while creating the book"}}};(0,s.D)([l]),(0,o.A)(l,"7f6a036db7187c7274d4131f37a9f6ddb18b251d8c",null)},83458:(e,r,t)=>{Promise.resolve().then(t.bind(t,79600))},17962:(e,r,t)=>{Promise.resolve().then(t.bind(t,61916))},14451:(e,r,t)=>{Promise.resolve().then(t.bind(t,37755)),Promise.resolve().then(t.t.bind(t,59607,23))},51403:(e,r,t)=>{Promise.resolve().then(t.bind(t,71320)),Promise.resolve().then(t.t.bind(t,28531,23))},83367:()=>{},61916:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var o=t(45512),n=t(45103),a=t(48173),s=t(28531),l=t.n(s),i=t(59462),c=t(79334),d=t(81846);let u=({session:e})=>{let r=(0,c.usePathname)();return(0,o.jsxs)("div",{className:"admin-sidebar",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"logo",children:[(0,o.jsx)(n.default,{src:"/icons/admin/logo.svg",alt:"logo",height:37,width:37}),(0,o.jsx)("h1",{children:"BookWise"})]}),(0,o.jsx)("div",{className:"mt-10 flex flex-col gap-5",children:a.Bi.map(e=>{let t="/admin"!==e.route&&r.includes(e.route)&&e.route.length>1||r===e.route;return(0,o.jsx)(l(),{href:e.route,children:(0,o.jsxs)("div",{className:(0,i.cn)("link",t&&"bg-primary-admin shadow-sm"),children:[(0,o.jsx)("div",{className:"relative size-5",children:(0,o.jsx)(n.default,{src:e.img,alt:"icon",fill:!0,className:`${t?"brightness-0 invert":""}  object-contain`})}),(0,o.jsx)("p",{className:(0,i.cn)(t?"text-white":"text-dark"),children:e.text})]})},e.route)})})]}),(0,o.jsxs)("div",{className:"user",children:[(0,o.jsx)(d.Avatar,{children:(0,o.jsx)(d.AvatarFallback,{className:"bg-amber-100",children:(0,i.I)(e?.user?.name||"IN")})}),(0,o.jsxs)("div",{className:"flex flex-col max-md:hidden",children:[(0,o.jsx)("p",{className:"font-semibold text-dark-200",children:e?.user?.name}),(0,o.jsx)("p",{className:"text-xs text-light-500",children:e?.user?.email})]})]})]})}},71320:(e,r,t)=>{"use strict";t.d(r,{default:()=>en});var o=t(45512),n=t(81914),a=t(6868),s=t(61366),l=t(25409),i=t(79334),c=t(54479),d=t(58009),u=t(59462);let m=d.forwardRef(({className:e,...r},t)=>(0,o.jsx)("textarea",{className:(0,u.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...r}));m.displayName="Textarea";var f=t(87021),p=t(83367),h=t.n(p);function x(){return(x=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function v(e,r){if(null==e)return{};var t,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r.indexOf(t=a[o])>=0||(n[t]=e[t]);return n}function g(e){var r=(0,d.useRef)(e),t=(0,d.useRef)(function(e){r.current&&r.current(e)});return r.current=e,t.current}var b,N=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=1),e>t?t:e<r?r:e},j=function(e){return"touches"in e},_=function(e){return e&&e.ownerDocument.defaultView||self},w=function(e,r,t){var o=e.getBoundingClientRect(),n=j(r)?function(e,r){for(var t=0;t<e.length;t++)if(e[t].identifier===r)return e[t];return e[0]}(r.touches,t):r;return{left:N((n.pageX-(o.left+_(e).pageXOffset))/o.width),top:N((n.pageY-(o.top+_(e).pageYOffset))/o.height)}},y=function(e){j(e)||e.preventDefault()},k=d.memo(function(e){var r=e.onMove,t=e.onKey,o=v(e,["onMove","onKey"]),n=(0,d.useRef)(null),a=g(r),s=g(t),l=(0,d.useRef)(null),i=(0,d.useRef)(!1),c=(0,d.useMemo)(function(){var e=function(e){y(e),(j(e)?e.touches.length>0:e.buttons>0)&&n.current?a(w(n.current,e,l.current)):t(!1)},r=function(){return t(!1)};function t(t){var o=i.current,a=_(n.current),s=t?a.addEventListener:a.removeEventListener;s(o?"touchmove":"mousemove",e),s(o?"touchend":"mouseup",r)}return[function(e){var r=e.nativeEvent,o=n.current;if(o&&(y(r),(!i.current||j(r))&&o)){if(j(r)){i.current=!0;var s=r.changedTouches||[];s.length&&(l.current=s[0].identifier)}o.focus(),a(w(o,r,l.current)),t(!0)}},function(e){var r=e.which||e.keyCode;r<37||r>40||(e.preventDefault(),s({left:39===r?.05:37===r?-.05:0,top:40===r?.05:38===r?-.05:0}))},t]},[s,a]),u=c[0],m=c[1],f=c[2];return(0,d.useEffect)(function(){return f},[f]),d.createElement("div",x({},o,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:n,onKeyDown:m,tabIndex:0,role:"slider"}))}),C=function(e){return e.filter(Boolean).join(" ")},R=function(e){var r=e.color,t=e.left,o=e.top,n=C(["react-colorful__pointer",e.className]);return d.createElement("div",{className:n,style:{top:100*(void 0===o?.5:o)+"%",left:100*t+"%"}},d.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:r}}))},E=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=Math.pow(10,r)),Math.round(t*e)/t},z={grad:.9,turn:360,rad:360/(2*Math.PI)},I=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?E(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?E(parseInt(e.substring(6,8),16)/255,2):1}},B=function(e,r){return void 0===r&&(r="deg"),Number(e)*(z[r]||1)},S=function(e){var r=e.s,t=e.l;return{h:e.h,s:(r*=(t<50?t:100-t)/100)>0?2*r/(t+r)*100:0,v:t+r,a:e.a}},D=function(e){var r=e.s,t=e.v,o=e.a,n=(200-r)*t/100;return{h:E(e.h),s:E(n>0&&n<200?r*t/100/(n<=100?n:200-n)*100:0),l:E(n/2),a:E(o,2)}},U=function(e){var r=D(e);return"hsl("+r.h+", "+r.s+"%, "+r.l+"%)"},P=function(e){var r=D(e);return"hsla("+r.h+", "+r.s+"%, "+r.l+"%, "+r.a+")"},A=function(e){var r=e.h,t=e.s,o=e.v,n=e.a;r=r/360*6,t/=100,o/=100;var a=Math.floor(r),s=o*(1-t),l=o*(1-(r-a)*t),i=o*(1-(1-r+a)*t),c=a%6;return{r:E(255*[o,l,s,s,i,o][c]),g:E(255*[i,o,o,l,s,s][c]),b:E(255*[s,s,i,o,o,l][c]),a:E(n,2)}},M=function(e){var r=e.toString(16);return r.length<2?"0"+r:r},O=function(e){var r=e.r,t=e.g,o=e.b,n=e.a,a=n<1?M(E(255*n)):"";return"#"+M(r)+M(t)+M(o)+a},T=function(e){var r=e.r,t=e.g,o=e.b,n=e.a,a=Math.max(r,t,o),s=a-Math.min(r,t,o),l=s?a===r?(t-o)/s:a===t?2+(o-r)/s:4+(r-t)/s:0;return{h:E(60*(l<0?l+6:l)),s:E(a?s/a*100:0),v:E(a/255*100),a:n}},q=function(e){return{h:E(e.h),s:E(e.s),v:E(e.v),a:E(e.a,2)}},K=d.memo(function(e){var r=e.hue,t=e.onChange,o=C(["react-colorful__hue",e.className]);return d.createElement("div",{className:o},d.createElement(k,{onMove:function(e){t({h:360*e.left})},onKey:function(e){t({h:N(r+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":E(r),"aria-valuemax":"360","aria-valuemin":"0"},d.createElement(R,{className:"react-colorful__hue-pointer",left:r/360,color:U({h:r,s:100,v:100,a:1})})))}),F=d.memo(function(e){var r=e.hsva,t=e.onChange,o={backgroundColor:U({h:r.h,s:100,v:100,a:1})};return d.createElement("div",{className:"react-colorful__saturation",style:o},d.createElement(k,{onMove:function(e){t({s:100*e.left,v:100-100*e.top})},onKey:function(e){t({s:N(r.s+100*e.left,0,100),v:N(r.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+E(r.s)+"%, Brightness "+E(r.v)+"%"},d.createElement(R,{className:"react-colorful__saturation-pointer",top:1-r.v/100,left:r.s/100,color:U(r)})))}),L=function(e,r){if(e===r)return!0;for(var t in e)if(e[t]!==r[t])return!1;return!0},H="undefined"!=typeof window?d.useLayoutEffect:d.useEffect,J=new Map,$=function(e){H(function(){var r=e.current?e.current.ownerDocument:document;if(void 0!==r&&!J.has(r)){var o=r.createElement("style");o.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',J.set(r,o);var n=b||t.nc;n&&o.setAttribute("nonce",n),r.head.appendChild(o)}},[])},W=function(e){var r,t,o,n,a,s,l,i=e.className,c=e.colorModel,u=e.color,m=void 0===u?c.defaultColor:u,f=e.onChange,p=v(e,["className","colorModel","color","onChange"]),h=(0,d.useRef)(null);$(h);var b=(r=c,t=m,o=g(f),a=(n=(0,d.useState)(function(){return r.toHsva(t)}))[0],s=n[1],l=(0,d.useRef)({color:t,hsva:a}),(0,d.useEffect)(function(){if(!r.equal(t,l.current.color)){var e=r.toHsva(t);l.current={hsva:e,color:t},s(e)}},[t,r]),(0,d.useEffect)(function(){var e;L(a,l.current.hsva)||r.equal(e=r.fromHsva(a),l.current.color)||(l.current={hsva:a,color:e},o(e))},[a,r,o]),[a,(0,d.useCallback)(function(e){s(function(r){return Object.assign({},r,e)})},[])]),N=b[0],j=b[1],_=C(["react-colorful",i]);return d.createElement("div",x({},p,{ref:h,className:_}),d.createElement(F,{hsva:N,onChange:j}),d.createElement(K,{hue:N.h,onChange:j,className:"react-colorful__last-control"}))},V={defaultColor:"000",toHsva:function(e){return T(I(e))},fromHsva:function(e){return O(A({h:e.h,s:e.s,v:e.v,a:1}))},equal:function(e,r){return e.toLowerCase()===r.toLowerCase()||L(I(e),I(r))}},G=function(e){return d.createElement(W,x({},e,{colorModel:V}))},Q=/^#?([0-9A-F]{3,8})$/i,X=function(e){var r=e.color,t=void 0===r?"":r,o=e.onChange,n=e.onBlur,a=e.escape,s=e.validate,l=e.format,i=e.process,c=v(e,["color","onChange","onBlur","escape","validate","format","process"]),u=(0,d.useState)(function(){return a(t)}),m=u[0],f=u[1],p=g(o),h=g(n),b=(0,d.useCallback)(function(e){var r=a(e.target.value);f(r),s(r)&&p(i?i(r):r)},[a,i,s,p]),N=(0,d.useCallback)(function(e){s(e.target.value)||f(a(t)),h(e)},[t,a,s,h]);return(0,d.useEffect)(function(){f(a(t))},[t,a]),d.createElement("input",x({},c,{value:l?l(m):m,spellCheck:"false",onChange:b,onBlur:N}))},Y=function(e){return"#"+e},Z=function(e){var r=e.prefixed,t=e.alpha,o=v(e,["prefixed","alpha"]),n=(0,d.useCallback)(function(e){return e.replace(/([^0-9A-F]+)/gi,"").substring(0,t?8:6)},[t]),a=(0,d.useCallback)(function(e){var r,o;return 3===(o=(r=Q.exec(e))?r[1].length:0)||6===o||!!t&&4===o||!!t&&8===o},[t]);return d.createElement(X,x({},o,{escape:n,format:r?Y:void 0,process:Y,validate:a}))};let ee=({value:e,onPickerChange:r})=>(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsxs)("div",{className:"flex flex-row items-center",children:[(0,o.jsx)("p",{children:"#"}),(0,o.jsx)(Z,{color:e,onChange:r,className:"hex-input"})]}),(0,o.jsx)(G,{color:e,onChange:r})]});var er=t(26248);let et=(0,er.createServerReference)("7f6a036db7187c7274d4131f37a9f6ddb18b251d8c",er.callServer,void 0,er.findSourceMapURL,"createBook");var eo=t(70801);let en=({type:e,...r})=>{let t=(0,i.useRouter)(),d=(0,a.mN)({resolver:(0,n.u)(c.xd),defaultValues:{title:"",description:"",author:"",genre:"",rating:1,totalCopies:1,coverUrl:"",coverColor:"",videoUrl:"",summary:""}}),u=async e=>{let r=await et(e);r.success?((0,eo.oR)({title:"Success",description:"Book created successfully"}),t.push(`/admin/books/${r.data.id}`)):(0,eo.oR)({title:"Error",description:r.message,variant:"destructive"})};return(0,o.jsx)(s.lV,{...d,children:(0,o.jsxs)("form",{onSubmit:d.handleSubmit(u),className:"space-y-8",children:[(0,o.jsx)(s.zB,{control:d.control,name:"title",render:({field:e})=>(0,o.jsxs)(s.eI,{className:"flex flex-col gap-1",children:[(0,o.jsx)(s.lR,{className:"text-base font-normal text-dark-500",children:"Book Title"}),(0,o.jsx)(s.MJ,{children:(0,o.jsx)(l.p,{required:!0,placeholder:"Book title",...e,className:"book-form_input"})}),(0,o.jsx)(s.C5,{})]})}),(0,o.jsx)(s.zB,{control:d.control,name:"author",render:({field:e})=>(0,o.jsxs)(s.eI,{className:"flex flex-col gap-1",children:[(0,o.jsx)(s.lR,{className:"text-base font-normal text-dark-500",children:"Author"}),(0,o.jsx)(s.MJ,{children:(0,o.jsx)(l.p,{required:!0,placeholder:"Book author",...e,className:"book-form_input"})}),(0,o.jsx)(s.C5,{})]})}),(0,o.jsx)(s.zB,{control:d.control,name:"genre",render:({field:e})=>(0,o.jsxs)(s.eI,{className:"flex flex-col gap-1",children:[(0,o.jsx)(s.lR,{className:"text-base font-normal text-dark-500",children:"Genre"}),(0,o.jsx)(s.MJ,{children:(0,o.jsx)(l.p,{required:!0,placeholder:"Book genre",...e,className:"book-form_input"})}),(0,o.jsx)(s.C5,{})]})}),(0,o.jsx)(s.zB,{control:d.control,name:"rating",render:({field:e})=>(0,o.jsxs)(s.eI,{className:"flex flex-col gap-1",children:[(0,o.jsx)(s.lR,{className:"text-base font-normal text-dark-500",children:"Rating"}),(0,o.jsx)(s.MJ,{children:(0,o.jsx)(l.p,{type:"number",min:1,max:5,placeholder:"Book rating",...e,className:"book-form_input"})}),(0,o.jsx)(s.C5,{})]})}),(0,o.jsx)(s.zB,{control:d.control,name:"totalCopies",render:({field:e})=>(0,o.jsxs)(s.eI,{className:"flex flex-col gap-1",children:[(0,o.jsx)(s.lR,{className:"text-base font-normal text-dark-500",children:"Total Copies"}),(0,o.jsx)(s.MJ,{children:(0,o.jsx)(l.p,{type:"number",min:1,max:1e4,placeholder:"Total copies",...e,className:"book-form_input"})}),(0,o.jsx)(s.C5,{})]})}),(0,o.jsx)(s.zB,{control:d.control,name:"coverUrl",render:({field:e})=>(0,o.jsxs)(s.eI,{className:"flex flex-col gap-1",children:[(0,o.jsx)(s.lR,{className:"text-base font-normal text-dark-500",children:"Book Image"}),(0,o.jsx)(s.MJ,{children:(0,o.jsx)(h(),{type:"image",accept:"image/*",placeholder:"Upload a book cover",folder:"books/covers",variant:"light",onFileChange:e.onChange,value:e.value})}),(0,o.jsx)(s.C5,{})]})}),(0,o.jsx)(s.zB,{control:d.control,name:"coverColor",render:({field:e})=>(0,o.jsxs)(s.eI,{className:"flex flex-col gap-1",children:[(0,o.jsx)(s.lR,{className:"text-base font-normal text-dark-500",children:"Primary Color"}),(0,o.jsx)(s.MJ,{children:(0,o.jsx)(ee,{onPickerChange:e.onChange,value:e.value})}),(0,o.jsx)(s.C5,{})]})}),(0,o.jsx)(s.zB,{control:d.control,name:"description",render:({field:e})=>(0,o.jsxs)(s.eI,{className:"flex flex-col gap-1",children:[(0,o.jsx)(s.lR,{className:"text-base font-normal text-dark-500",children:"Book Description"}),(0,o.jsx)(s.MJ,{children:(0,o.jsx)(m,{placeholder:"Book description",...e,rows:10,className:"book-form_input"})}),(0,o.jsx)(s.C5,{})]})}),(0,o.jsx)(s.zB,{control:d.control,name:"videoUrl",render:({field:e})=>(0,o.jsxs)(s.eI,{className:"flex flex-col gap-1",children:[(0,o.jsx)(s.lR,{className:"text-base font-normal text-dark-500",children:"Book Trailer"}),(0,o.jsx)(s.MJ,{children:(0,o.jsx)(h(),{type:"video",accept:"video/*",placeholder:"Upload a book trailer",folder:"books/videos",variant:"light",onFileChange:e.onChange,value:e.value})}),(0,o.jsx)(s.C5,{})]})}),(0,o.jsx)(s.zB,{control:d.control,name:"summary",render:({field:e})=>(0,o.jsxs)(s.eI,{className:"flex flex-col gap-1",children:[(0,o.jsx)(s.lR,{className:"text-base font-normal text-dark-500",children:"Book Summary"}),(0,o.jsx)(s.MJ,{children:(0,o.jsx)(m,{placeholder:"Book summary",...e,rows:5,className:"book-form_input"})}),(0,o.jsx)(s.C5,{})]})}),(0,o.jsx)(f.$,{type:"submit",className:"book-form_btn text-white",children:"Add Book to Library"})]})})}},87021:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var o=t(45512),n=t(58009),a=t(12705),s=t(21643),l=t(59462);let i=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...s},c)=>{let d=n?a.DX:"button";return(0,o.jsx)(d,{className:(0,l.cn)(i({variant:r,size:t,className:e})),ref:c,...s})});c.displayName="Button"},61366:(e,r,t)=>{"use strict";t.d(r,{lV:()=>u,MJ:()=>g,zB:()=>f,eI:()=>x,lR:()=>v,C5:()=>b});var o=t(45512),n=t(58009),a=t(12705),s=t(6868),l=t(59462),i=t(92405);let c=(0,t(21643).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef(({className:e,...r},t)=>(0,o.jsx)(i.b,{ref:t,className:(0,l.cn)(c(),e),...r}));d.displayName=i.b.displayName;let u=s.Op,m=n.createContext({}),f=({...e})=>(0,o.jsx)(m.Provider,{value:{name:e.name},children:(0,o.jsx)(s.xI,{...e})}),p=()=>{let e=n.useContext(m),r=n.useContext(h),{getFieldState:t,formState:o}=(0,s.xW)(),a=t(e.name,o);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=r;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...a}},h=n.createContext({}),x=n.forwardRef(({className:e,...r},t)=>{let a=n.useId();return(0,o.jsx)(h.Provider,{value:{id:a},children:(0,o.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",e),...r})})});x.displayName="FormItem";let v=n.forwardRef(({className:e,...r},t)=>{let{error:n,formItemId:a}=p();return(0,o.jsx)(d,{ref:t,className:(0,l.cn)(n&&"text-destructive",e),htmlFor:a,...r})});v.displayName="FormLabel";let g=n.forwardRef(({...e},r)=>{let{error:t,formItemId:n,formDescriptionId:s,formMessageId:l}=p();return(0,o.jsx)(a.DX,{ref:r,id:n,"aria-describedby":t?`${s} ${l}`:`${s}`,"aria-invalid":!!t,...e})});g.displayName="FormControl",n.forwardRef(({className:e,...r},t)=>{let{formDescriptionId:n}=p();return(0,o.jsx)("p",{ref:t,id:n,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",e),...r})}).displayName="FormDescription";let b=n.forwardRef(({className:e,children:r,...t},n)=>{let{error:a,formMessageId:s}=p(),i=a?String(a?.message??""):r;return i?(0,o.jsx)("p",{ref:n,id:s,className:(0,l.cn)("text-[0.8rem] font-medium text-destructive",e),...t,children:i}):null});b.displayName="FormMessage"},25409:(e,r,t)=>{"use strict";t.d(r,{p:()=>s});var o=t(45512),n=t(58009),a=t(59462);let s=n.forwardRef(({className:e,type:r,...t},n)=>(0,o.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));s.displayName="Input"},48173:(e,r,t)=>{"use strict";t.d(r,{Bi:()=>o,Yr:()=>n,bh:()=>a});let o=[{img:"/icons/admin/home.svg",route:"/admin",text:"Home"},{img:"/icons/admin/users.svg",route:"/admin/users",text:"All Users"},{img:"/icons/admin/book.svg",route:"/admin/books",text:"All Books"},{img:"/icons/admin/bookmark.svg",route:"/admin/book-requests",text:"Borrow Requests"},{img:"/icons/admin/user.svg",route:"/admin/account-requests",text:"Account Requests"}],n={fullName:"Full name",email:"Email",password:"Password"},a={fullName:"text",email:"email",password:"password"}},54479:(e,r,t)=>{"use strict";t.d(r,{Sd:()=>n,aE:()=>a,xd:()=>s});var o=t(96314);let n=o.z.object({fullName:o.z.string().min(3),email:o.z.string().email(),password:o.z.string().min(8)}),a=o.z.object({email:o.z.string().email(),password:o.z.string().min(8)}),s=o.z.object({title:o.z.string().trim().min(2).max(100),description:o.z.string().trim().min(10).max(1e3),author:o.z.string().trim().min(2).max(100),genre:o.z.string().trim().min(2).max(50),rating:o.z.coerce.number().min(1).max(5),totalCopies:o.z.coerce.number().int().positive().lte(1e4),coverUrl:o.z.string().nonempty(),coverColor:o.z.string().trim().regex(/^#[0-9A-F]{6}$/i),videoUrl:o.z.string().nonempty(),summary:o.z.string().trim().min(10)})},12516:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var o=t(62740);t(76301);var n=t(38537),a=t(59607),s=t.n(a),l=t(37755);let i=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.$,{asChild:!0,className:"back-btn",children:(0,o.jsx)(s(),{href:"/admin/books",children:"Go Back"})}),(0,o.jsx)("section",{className:"w-full max-w-2xl",children:(0,o.jsx)(l.default,{})})]})},9763:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var o=t(62740);t(76301),t(28620);var n=t(79600);let a=({session:e})=>(0,o.jsx)("header",{className:"admin-header",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-2xl font-semibold text-dark-400",children:e?.user?.name}),(0,o.jsx)("p",{className:"text-base text-slate-500",children:"Monitor all of your users and books here"})]})}),s=async({children:e})=>{let r={user:{id:"1",name:"Admin User",email:"admin@example.com"},expires:new Date(Date.now()+864e5).toISOString()};return(0,o.jsxs)("main",{className:"flex min-h-screen w-full flex-row",children:[(0,o.jsx)(n.default,{session:r}),(0,o.jsxs)("div",{className:"admin-container",children:[(0,o.jsx)(a,{session:r}),e]})]})}},79600:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});let o=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Desktop\\\\WORK\\\\new_creation\\\\components\\\\admin\\\\Sidebar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\admin\\Sidebar.tsx","default")},37755:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});let o=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Desktop\\\\WORK\\\\new_creation\\\\components\\\\admin\\\\forms\\\\BookForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\WORK\\new_creation\\components\\admin\\forms\\BookForm.tsx","default")},38537:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var o=t(62740),n=t(76301),a=t(15225),s=t(67699),l=t(55946);let i=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...s},c)=>{let d=n?a.DX:"button";return(0,o.jsx)(d,{className:(0,l.cn)(i({variant:r,size:t,className:e})),ref:c,...s})});c.displayName="Button"},88340:(e,r,t)=>{"use strict";t.d(r,{db:()=>s});var o=t(94010),n=t(59228);let a=(0,t(25079).lw)(o.A.env.databaseUrl),s=(0,n.fd)(a)},83843:(e,r,t)=>{"use strict";t.d(r,{VV:()=>p,b7:()=>h});var o=t(60610),n=t(75952),a=t(30036),s=t(58768),l=t(13752),i=t(41957),c=t(87931),d=t(66537);let u=(0,o.rL)("status",["PENDING","APPROVED","REJECTED"]),m=(0,o.rL)("role",["USER","ADMIN"]),f=(0,o.rL)("borrow_status",["BORROWED","RETURNED"]),p=(0,n.cJ)("users",{id:(0,a.uR)("id").notNull().primaryKey().defaultRandom().unique(),fullName:(0,s.yf)("full_name",{length:255}).notNull(),email:(0,l.Qq)("email").notNull().unique(),password:(0,l.Qq)("password").notNull(),status:u("status").default("PENDING"),role:m("role").default("USER"),lastActivityDate:(0,i.p6)("last_activity_date").defaultNow(),createdAt:(0,c.vE)("created_at",{withTimezone:!0}).defaultNow()}),h=(0,n.cJ)("books",{id:(0,a.uR)("id").notNull().primaryKey().defaultRandom().unique(),title:(0,s.yf)("title",{length:255}).notNull(),author:(0,s.yf)("author",{length:255}).notNull(),genre:(0,l.Qq)("genre").notNull(),rating:(0,d.nd)("rating").notNull(),coverUrl:(0,l.Qq)("cover_url").notNull(),coverColor:(0,s.yf)("cover_color",{length:7}).notNull(),description:(0,l.Qq)("description").notNull(),totalCopies:(0,d.nd)("total_copies").notNull().default(1),availableCopies:(0,d.nd)("available_copies").notNull().default(0),videoUrl:(0,l.Qq)("video_url").notNull(),summary:(0,s.yf)("summary").notNull(),createdAt:(0,c.vE)("created_at",{withTimezone:!0}).defaultNow()});(0,n.cJ)("borrow_records",{id:(0,a.uR)("id").notNull().primaryKey().defaultRandom().unique(),userId:(0,a.uR)("user_id").references(()=>p.id).notNull(),bookId:(0,a.uR)("book_id").references(()=>h.id).notNull(),borrowDate:(0,c.vE)("borrow_date",{withTimezone:!0}).defaultNow().notNull(),dueDate:(0,i.p6)("due_date").notNull(),returnDate:(0,i.p6)("return_date"),status:f("status").default("BORROWED").notNull(),createdAt:(0,c.vE)("created_at",{withTimezone:!0}).defaultNow()})},94010:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o={env:{apiEndpoint:"HTTP://LOCALHOST:3000",prodApiEndpoint:process.env.NEXT_PUBLIC_PROD_API_ENDPOINT,imagekit:{publicKey:"public_BtS+r9Vnb8MycIO2ZwDml3Hga3s=",urlEndpoint:"https://ik.imagekit.io/newCreation",privateKey:process.env.IMAGEKIT_PRIVATE_KEY},databaseUrl:process.env.DATABASE_URL,upstash:{redisUrl:process.env.UPSTASH_REDIS_URL,redisToken:process.env.UPSTASH_REDIS_TOKEN,qstashUrl:process.env.QSTASH_URL,qstashToken:process.env.QSTASH_TOKEN},resendToken:process.env.RESEND_TOKEN}}},55946:(e,r,t)=>{"use strict";t.d(r,{cn:()=>a});var o=t(13673),n=t(47317);function a(...e){return(0,n.QP)((0,o.$)(e))}},28620:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[994,980,187,988,844,340,496,513,864],()=>t(6519));module.exports=o})();